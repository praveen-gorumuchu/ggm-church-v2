import{a as F,b as _,c as et,d as _e,e as tt,f as R,g as j,h as O,i as ie}from"./chunk-ERW5GSOD.js";import{a as it,b as H,c as rt,h as at}from"./chunk-32HH5MPG.js";import{B as ot,C as nt,D as re,Q as st,c as qe,f as Ue,h as $e}from"./chunk-MSN7PC5U.js";import{Fa as I,Ha as He,Ja as We,Na as Ge,Oa as Xe,Qa as Ye,Ra as Je,ea as Ke,k as ke,m as Ve,o as Fe,q as Ne,r as De,t as Le,u as ze,v as Qe,x as Pe,y as Re,z as je,za as Ze}from"./chunk-FMWM4ZBD.js";import"./chunk-CARY4E7O.js";import{A as ye,Aa as L,Ba as z,Cb as s,Db as c,Eb as Q,Fb as ee,G as we,Gb as te,Ib as C,L as Be,Lb as u,Nb as p,Oc as Ae,Pc as V,Qc as P,Rb as y,Sb as w,Sc as Ee,Tb as B,Tc as Te,U as G,V as ve,Wa as xe,Wb as $,Xa as Me,Xb as h,Za as a,Zb as S,_a as b,_b as Ie,aa as T,ba as X,ec as Oe,fa as Y,fc as ge,gc as Ce,ka as M,la as J,ob as k,p as U,ra as D,sa as d,t as W,ta as f,tb as l}from"./chunk-IDJVONTR.js";var oe=class o{constructor(){}searchBook(e){let t=/^(.*?)\s*[\s,:;]?\s*(\d+)?\s*[\s,:;]?\s*(\d+)?$/,i=e.match(t);if(i){let[r,n,m,v]=i,g={bookName:n.trim()};return m&&(g.chapterNumber=parseInt(m,10)),v&&(g.verse=parseInt(v,10)),g}return null}static \u0275fac=function(t){return new(t||o)};static \u0275prov=T({token:o,factory:o.\u0275fac,providedIn:"root"})};var ne=class o{dateFormat="M/d/yyyy";constructor(){}unSubscribeSubs(e){if(e&&e.length>_.ZERO)for(let t of e)t.unsubscribe()}objKeysHasAtleastOneValue(e){let t=!1,i=Object.keys(e).map(r=>e[r]);if(i&&i.length>_.ZERO)for(let r of i)if(r&&r.value!==""&&r.value!==null&&r.value!==void 0){t=!0;break}else t=!1;return t}removeItmesFromSorceArray(e,t,i){return e.length>_.ZERO&&t.length>_.ZERO&&i?e.filter(r=>!t.find(n=>r[i]===n[i])):e}removeInactiveItems(e){return e&&e.length>_.ZERO?e.filter(t=>t.deletionFlag<=_.ZERO):e}getHours(){let t=[...Array(25)].map((r,n)=>n).map((r,n)=>r<10?"0"+n:n.toString()),i=t.map(r=>parseInt(r));return t}generateYearsBetween(e=_.TWO_THOUSAND,t=new Date().getFullYear(),i){let r=t+_.TWO,n=[];for(var m=e;m<=r;m++)n.push(e),e++;return n}setFocus(e,t=_.ZERO){e&&setTimeout(()=>e.focus(),t)}alphaNumericSort=(e,t)=>{let i=t&&t!=="",r=e.filter(m=>i?m[t]!==""&&m[t]!==null:m!==""&&m!==null),n=(m,v)=>{let g=q=>!isNaN(parseFloat(q))&&isFinite(q);if(g(i?m[t]:m)&&g(i?v[t]:v))return parseFloat(i?m[t]:m)-parseFloat(i?m[t]:m);let E=i?m[t].match(/\d+|\D+/g):m.match(/\d+|\D+/g),N=i?v[t].match(/\d+|\D+/g):v.match(/\d+|\D+/g),x=_.ZERO,be=Math.min(E.length,N.length);for(;x<be&&E[x]===N[x];)x++;return x===be?E.length-N.length:E[x].toString().trim().toLowerCase().localeCompare(N[x].toString().trim().toLowerCase())};return r.sort(n)};filteredData(e,t,i){let r=this.alphaNumericSort(t,i);return e.valueChanges.pipe(G(""),W(n=>{if(n===null)return r.slice();{let m=typeof n===F.number?n.toString():n,v=typeof m===F.string?m:m[i||""];return v?this.filter(v,r,i):r.slice()}}))}filteredDataComesFirst(e,t,i,r,n,m){m&&this.removeInactiveItems(t),n&&(t=this.removeDuplicates(t,i));let v=r?this.alphaNumericSort(t,i):t;return e.valueChanges.pipe(G(""),we(_.TWO_HUNDERED),Be(),ve(g=>{if(!g||g==="")return U(v.slice());{let E=typeof g===F.number?g.toString():g,N=typeof E===F.string?E:E[i||""],x=this.filter(N.trim(),v,i),be=v.filter(q=>!x.some(Se=>i&&i!==""?q[i]===Se[i]:q===Se));return U([...x])}}))}filterBooks(e,t,i){let r=t.slice();return e.valueChanges.pipe(G(""),ve(n=>{if(!n||n==="")return U(r);let v=(typeof n===F.number?n.toString():n).toString().trim().toLowerCase(),g=this.filterByTransliteration(v,r,i);return U(g.length>0?g:r)}))}filterByTransliteration(e,t,i){return t.filter(r=>r[i]?.some(n=>n.toLowerCase().includes(e)))}convertNumToArray(e){return Array.from({length:e},(t,i)=>i+1)}removeDuplicates(e,t){let i=new Set;return e.filter(r=>{let n=t&&t!==""?r[t]:r;return i.has(n)?!1:(i.add(n),!0)})}hasDuplicates(e,t){let i=new Set;for(let r of e){let n=r[t];if(i.has(n))return!0;i.add(n)}return!1}filter(e,t,i){return t.filter(r=>i&&i!==""?r[i].toString().toLowerCase().includes(e.toString().trim().toLowerCase()):r.toString().toLowerCase().includes(e.toString().toLowerCase()))}sortAlphaNum=(e,t)=>e.toString().localeCompare(t.toString(),"en",{numeric:!0});convertBase64toUnitArray(e){let t=atob(e),i=new Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return new Uint8Array(i)}formatBytes(e,t=_.TWO){if(e===0)return"0 Bytes";let i=1024,r=t<=0?0:t,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],m=Math.floor(Math.log(e)/Math.log(i));return parseFloat((e/Math.pow(i,m)).toFixed(r))+" "+n[m]}shortName=(e,t)=>e&&e.length>t&&e.substring(_.ZERO,t)+"..."||e;generateUinqueId(e){let t=Date.now().toString(),i=Math.random().toString(36).substring(2,10);return`${e}-${i}-${t}`}static \u0275fac=function(t){return new(t||o)};static \u0275prov=T({token:o,factory:o.\u0275fac,providedIn:"root"})};var dt=["bookInput"],ft=["chapterInput"],bt=["verseInput"];function vt(o,e){if(o&1&&(s(0,"mat-option",18),h(1),c()),o&2){let t=e.$implicit;l("value",t),a(),S(" ",t.name," ")}}function gt(o,e){if(o&1&&(s(0,"mat-option",18),h(1),c()),o&2){let t=e.$implicit;l("value",t),a(),S(" ",t," ")}}function Ct(o,e){if(o&1){let t=C();s(0,"mat-form-field",19),Q(1,"input",20,2),s(3,"mat-autocomplete",21,3),u("optionSelected",function(r){d(t);let n=p();return f(n.onChapterSelected(r.option))}),k(5,gt,2,2,"mat-option",12),ge(6,"async"),c()()}if(o&2){let t=$(4),i=p();a(),l("matAutocomplete",t),a(4),l("ngForOf",Ce(6,2,i.filteredChapters))}}function kt(o,e){if(o&1){let t=C();s(0,"mat-form-field",22)(1,"input",23,4),u("keydown.enter",function(){d(t);let r=p();return f(r.onVerseSelected())})("change",function(){d(t);let r=p();return f(r.onVerseSelected())}),c()()}}var K=class o{constructor(e,t,i,r,n){this.searchBookService=e;this.bibleService=t;this.ngZone=i;this.utilSharedService=r;this.fb=n;this.searchForm=this.createFormGroup()}currentBook;searchForm;filteredBooks;filteredChapters;bibleBooks=[];chapterList=[];isBookSelected=!1;isChapterSelected=!1;subs=[];bookInput;chapterInput;verseInput;booksAutoComplete;chaptersAutoComplete;keydownListener;ngOnInit(){this.subs.push(this.bibleService.bibleBooksObsCast.subscribe(e=>{this.ngZone.run(()=>{this.bibleBooks=this.combineBibleBooks(e)})})),this.keydownListener=this.onKeydown.bind(this),window.addEventListener("keydown",this.keydownListener),this.getFilteredOptions(),this.getChapterLis()}ngOnChanges(e){}populateDeafult(){this.book.patchValue(this.currentBook),this.chapter.patchValue(1),this.verse.patchValue(1)}getChapterLis(){this.chapterList=this.utilSharedService.convertNumToArray(this.currentBook.chapters.length)}onSearchChange(e){}getFilteredOptions(){this.filteredBooks=this.utilSharedService.filterBooks(this.book,this.bibleBooks,F.TRANS),this.filteredChapters=this.utilSharedService.filteredDataComesFirst(this.chapter,this.chapterList)}clear(){this.resetInput()}defaultSelect(){}onBookSelected(e){this.chapter.reset(),this.verse.reset();let t=e.value;t?(this.bibleService.getBook(t.id),this.chapterList=Array.from({length:t.chapterCount},(i,r)=>r+1),this.isBookSelected=!0,this.filteredChapters=this.utilSharedService.filteredDataComesFirst(this.chapter,this.chapterList),setTimeout(()=>{this.chapterInput.nativeElement.focus()})):this.isBookSelected=!1}onChapterSelected(e){e.value?(this.isChapterSelected=!0,this.bibleService.setChapterIndex(this.chapter.value),setTimeout(()=>{this.verseInput.nativeElement.focus()})):this.isChapterSelected=!1}onVerseSelected(){this.verse&&this.verse.value&&this.bibleService.setVerseIndex(this.verse.value)}displayFn(e){return e&&e.name?e.name:""}combineBibleBooks(e){return e.reduce((t,i)=>t.concat(i.books),[])}onSearchClick(){}prepareBookRequest(){let e=this.searchBookService.searchBook(this.book?.value.id);if(e&&e.bookName){let t=this.bibleBooks.find(i=>i.name.includes(e?.bookName));if(t&&t.id){let i=e&&e.chapterNumber&&Number(e.chapterNumber)||1,r=e&&e.verse&&Number(e.verse)||1;this.bibleService.getBook(t.id,!1,i,r),console.log(e,t.id,!1,i,r,"search found"),this.resetInput()}}}get book(){return this.searchForm.get("book")}get chapter(){return this.searchForm.get("chapter")}get verse(){return this.searchForm.get("verse")}resetInput(){this.searchForm&&this.searchForm.reset()}onKeydown(e){let{ctrlKey:t,key:i}=e;t&&i==="f"&&(e.preventDefault(),this.resetInput(),this.bookInput.nativeElement.focus())}createFormGroup(){return this.fb.group({book:["",[Fe.required]],chapter:[""],verse:[""]})}ngOnDestroy(){window.removeEventListener("keydown",this.keydownListener),this.isBookSelected=!1,this.isChapterSelected=!1,this.bibleBooks=[]}static \u0275fac=function(t){return new(t||o)(b(oe),b(O),b(z),b(ne),b(Pe))};static \u0275cmp=M({type:o,selectors:[["app-search-bar"]],viewQuery:function(t,i){if(t&1&&(y(dt,5),y(ft,5),y(bt,5),y(H,5),y(H,5)),t&2){let r;w(r=B())&&(i.bookInput=r.first),w(r=B())&&(i.chapterInput=r.first),w(r=B())&&(i.verseInput=r.first),w(r=B())&&(i.booksAutoComplete=r.first),w(r=B())&&(i.chaptersAutoComplete=r.first)}},inputs:{currentBook:"currentBook"},features:[D],decls:18,vars:8,consts:[["bookInput",""],["booksAutoComplete","matAutocomplete"],["chapterInput",""],["chaptersAutoComplete","matAutocomplete"],["verseInput",""],[1,"search-sec","mr-3"],[1,"",3,"formGroup"],[1,"d-flex"],["appearance","outline",1,"search-book","primary"],["matInput","","placeholder","Search book","formControlName","book",3,"keydown.enter","matAutocomplete"],["matPrefix",""],["autoActiveFirstOption","",3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","class","search-chapter wt-15 ml-4 primary",4,"ngIf"],["appearance","outline","class","search-verse wt-10 ml-4 primary",4,"ngIf"],[1,"ml-2"],["mat-icon-button","","type","button",1,"clear-icon","ml-3",3,"click"],[1,"material-symbols-outlined"],[3,"value"],["appearance","outline",1,"search-chapter","wt-15","ml-4","primary"],["matInput","","placeholder","","formControlName","chapter",3,"matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["appearance","outline",1,"search-verse","wt-10","ml-4","primary"],["matInput","","type","text","formControlName","verse",3,"keydown.enter","change"]],template:function(t,i){if(t&1){let r=C();s(0,"section",5)(1,"form",6)(2,"div",7)(3,"mat-form-field",8)(4,"input",9,0),u("keydown.enter",function(){return d(r),f(i.onSearchClick())}),c(),s(6,"mat-icon",10),h(7,"search"),c(),s(8,"mat-autocomplete",11,1),u("optionSelected",function(m){return d(r),f(i.onBookSelected(m.option))}),k(10,vt,2,2,"mat-option",12),ge(11,"async"),c()(),k(12,Ct,7,4,"mat-form-field",13)(13,kt,3,0,"mat-form-field",14),s(14,"div",15)(15,"button",16),u("click",function(){return d(r),f(i.clear())}),s(16,"span",17),h(17," close "),c()()()()()()}if(t&2){let r=$(9);a(),l("formGroup",i.searchForm),a(3),l("matAutocomplete",r),a(4),l("displayWith",i.displayFn),a(2),l("ngForOf",Ce(11,6,i.filteredBooks)),a(2),l("ngIf",(i.book==null?null:i.book.value)&&i.isBookSelected||!0),a(),l("ngIf",(i.book==null?null:i.book.value)&&i.isBookSelected&&(i.chapter==null?null:i.chapter.value)&&i.isChapterSelected||!0)}},dependencies:[V,P,I,Xe,$e,Ue,qe,Le,Ve,Ne,De,ze,Qe,it,Ze,H,Ee],styles:[".search-sec .primary input{color:#b3b3b3!important}  .--mat-form-field-container-height{min-height:40px!important}  .mat-mdc-form-field-infix{padding:10px 0!important}  .mat-mdc-text-field-wrapper{height:46px!important}  .mat-mdc-form-field-icon-prefix>.mat-icon{padding-bottom:10px!important}  mat-icon{cursor:pointer}@media screen and (max-width: 768px){  .search-chapter{width:25%;margin-left:8px!important}  .search-verse{width:20%;margin-left:8px!important}}"]})};var Z=class o{constructor(e){this.breakpointService=e;this.breakpointService.isMobile$.subscribe(t=>{t&&(this.fontSize=24)})}fontSize=42;zoomIn(){this.fontSize+=2,this.updateFontSize()}zoomOut(){this.fontSize>16&&(this.fontSize-=2,this.updateFontSize())}reset(){this.fontSize=42,this.updateFontSize()}updateFontSize(){let e=document.getElementById("zoom-container");e&&e.setAttribute("style",`font-size: ${this.fontSize}px`)}static \u0275fac=function(t){return new(t||o)(Y(ie))};static \u0275prov=T({token:o,factory:o.\u0275fac,providedIn:"root"})};var me=class o{constructor(e){this.zoomService=e}toggleDrawer=new L;highlightedTexts=[];shortcuts={zoomIn:e=>{e.preventDefault(),this.zoomService.zoomIn()},zoomOut:e=>{e.preventDefault(),this.zoomService.zoomOut()},undo:e=>{},toggleMenu:e=>{e.preventDefault(),this.toggleDrawer.emit()}};onKeydown(e){let{ctrlKey:t,metaKey:i,key:r}=e;(t||i)&&(r==="+"||r==="=")?this.shortcuts.zoomIn(e):(t||i)&&r==="-"?this.shortcuts.zoomOut(e):(t||i)&&r==="z"?this.shortcuts.undo(e):(t||i)&&r==="m"&&this.shortcuts.toggleMenu(e)}static \u0275fac=function(t){return new(t||o)(Y(Z))};static \u0275prov=T({token:o,factory:o.\u0275fac,providedIn:"root"})};var wt=o=>({active:o});function Bt(o,e){if(o&1){let t=C();s(0,"li",3)(1,"button",4),u("click",function(){let r=d(t).$implicit,n=p();return f(n.onChapterClick(r))}),s(2,"span"),h(3),c()()()}if(o&2){let t=e.$implicit,i=e.index,r=p();a(),l("ngClass",Oe(2,wt,r.isActive(t))),a(2),S(" ",i+1," ")}}var pe=class o{constructor(e){this.bibleService=e}currentBook;currentChapterIndex=1;currentChapter=new L;isActiveChapter;ngOnInit(){}ngOnChanges(e){this.isActiveChapter=this.currentBook.chapters[this.currentChapterIndex-1]}isActive(e){return this.isActiveChapter.id.toLowerCase()===e.id.toLowerCase()}onChapterClick(e){this.isActiveChapter=e;let t=e.name.match(/\d+$/);this.bibleService.setChapterIndex(t?parseInt(t[0]):1),this.currentChapter.emit(e)}static \u0275fac=function(t){return new(t||o)(b(O))};static \u0275cmp=M({type:o,selectors:[["app-chapters"]],inputs:{currentBook:"currentBook",currentChapterIndex:"currentChapterIndex"},outputs:{currentChapter:"currentChapter"},features:[D],decls:5,vars:1,consts:[[1,"chapter-list"],[1,"m-0","p-0"],["class"," book-list",4,"ngFor","ngForOf"],[1,"book-list"],["mat-icon-button","",1,"chapter-num",3,"click","ngClass"]],template:function(t,i){t&1&&(s(0,"section",0)(1,"mat-card")(2,"mat-card-content")(3,"ul",1),k(4,Bt,4,4,"li",2),c()()()()),t&2&&(a(4),l("ngForOf",i.currentBook.chapters))},dependencies:[Ae,V,I,He,We],styles:[".chapter-list mat-card{background:#e1e1e1}  .chapter-list mat-card mat-card-content ul{list-style:none;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-items:stretch;align-content:stretch}  .chapter-list mat-card mat-card-content ul li{padding:0;margin:5px}  .chapter-list mat-card mat-card-content ul li .chapter-num{color:#1c222e;font-size:14px;font-weight:600}  .chapter-list mat-card mat-card-content ul li .chapter-num.active{background-color:#1c222e;color:#e3e3e3}  .chapter-list mat-card mat-card-content ul li .mat-mdc-icon-button .mat-mdc-button-touch-target{width:28px;height:28px}"]})};function Mt(o,e){if(o&1){let t=C();s(0,"div",7)(1,"button",8),u("click",function(){d(t);let r=p();return f(r.onChangeChapter(r.action.PREV))}),s(2,"span",9),h(3," arrow_back_ios "),c()()()}o&2&&(a(),l("disabled",!1))}function It(o,e){if(o&1){let t=C();s(0,"div",10)(1,"button",8),u("click",function(){d(t);let r=p();return f(r.onChangeChapter(r.action.NEXT))}),s(2,"span",9),h(3," arrow_forward_ios "),c()()()}o&2&&(a(),l("disabled",!1))}function Ot(o,e){if(o&1){let t=C();s(0,"div",11)(1,"button",8),u("click",function(){d(t);let r=p();return f(r.onChangeChapter(r.action.NEXT))}),s(2,"span",9),h(3," arrow_forward_ios "),c()()()}o&2&&(a(),l("disabled",!1))}function At(o,e){if(o&1){let t=C();s(0,"div",12)(1,"button",8),u("click",function(){d(t);let r=p();return f(r.onChangeChapter(r.action.NEXT))}),s(2,"span",9),h(3," arrow_forward_ios "),c()()()}o&2&&(a(),l("disabled",!1))}function Et(o,e){if(o&1){let t=C();s(0,"div",13)(1,"button",14),u("click",function(){d(t);let r=p();return f(r.scrollToTop())}),s(2,"span",9),h(3," keyboard_arrow_up "),c()()()}}var ue=class o{constructor(e,t,i,r){this.ngZone=e;this.bookMarkService=t;this.sharedService=i;this.bibleService=r}changeChapter=new L;disableNext=!1;disablePrev=!1;action=_e;showLeftArrow;showRightArrow;showUpArrow;showDownArrow;showScrollArrow=!1;scrollSubscription;ngOnInit(){this.ngZone.runOutsideAngular(()=>{window.addEventListener("keydown",this.handleKeyDown.bind(this))}),this.showScroll()}showScroll(){let e=document.getElementById("contentBlock");e&&(this.scrollSubscription=ye(e,"scroll").pipe(W(()=>e.scrollTop)).subscribe(t=>{this.showScrollArrow=t>180}))}scrollToTop(){let e=document.getElementById("contentBlock");e&&e.scrollTo({top:0,behavior:"smooth"})}onMouseMove(e){let{clientX:t}=e,i=window.innerWidth;this.showLeftArrow=t<60,this.showRightArrow=t>i-60}handleKeyDown(e){if(e.ctrlKey&&e.shiftKey)switch(e.preventDefault(),e.stopPropagation(),e.key){case"ArrowRight":this.ngZone.run(()=>{this.onChangeChapter("NEXT")});break;case"ArrowLeft":this.ngZone.run(()=>{this.onChangeChapter("PREV")});break;case"ArrowUp":this.ngZone.run(()=>{this.onChangeChapter("UP")});break;case"ArrowDown":this.ngZone.run(()=>{this.onChangeChapter("DOWN")});break;default:break}}onChangeChapter(e){this.changeChapter.emit(e)}ngOnDestroy(){window.removeEventListener("keydown",this.handleKeyDown.bind(this)),this.scrollSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||o)(b(z),b(R),b(j),b(O))};static \u0275cmp=M({type:o,selectors:[["app-quick-access"]],hostBindings:function(t,i){t&1&&u("mousemove",function(n){return i.onMouseMove(n)},!1,Me)},inputs:{disableNext:"disableNext",disablePrev:"disablePrev"},outputs:{changeChapter:"changeChapter"},decls:8,vars:5,consts:[[1,"quick-access",3,"mousemove"],[1,"navigation"],["class","previous-chapter",4,"ngIf"],["class","next-chapter",4,"ngIf"],["class","next-book",4,"ngIf"],["class","prev-book",4,"ngIf"],["class","bottom-acceess",4,"ngIf"],[1,"previous-chapter"],["mat-icon-button","",3,"click","disabled"],[1,"material-symbols-outlined"],[1,"next-chapter"],[1,"next-book"],[1,"prev-book"],[1,"bottom-acceess"],["mat-icon-button","",1,"scroll-arrow",3,"click"]],template:function(t,i){t&1&&(s(0,"section",0),u("mousemove",function(n){return i.onMouseMove(n)}),s(1,"section",1),k(2,Mt,4,1,"div",2)(3,It,4,1,"div",3)(4,Ot,4,1,"div",4)(5,At,4,1,"div",5),c(),s(6,"section"),k(7,Et,4,0,"div",6),c()()),t&2&&(a(2),l("ngIf",i.showLeftArrow),a(),l("ngIf",i.showRightArrow),a(),l("ngIf",i.showDownArrow),a(),l("ngIf",i.showUpArrow),a(2),l("ngIf",i.showScrollArrow))},dependencies:[P,I],styles:[".quick-access .previous-chapter button,   .quick-access .next-chapter button,   .quick-access .bottom-acceess button{width:64px;height:64px;padding:0}  .quick-access .previous-chapter .material-symbols-outlined,   .quick-access .next-chapter .material-symbols-outlined,   .quick-access .bottom-acceess .material-symbols-outlined{color:#fff;font-size:32px;padding:0}  .quick-access .previous-chapter{position:fixed;top:50%;transform:translateY(-50%);left:15px}  .quick-access .next-chapter{position:fixed;top:50%;transform:translateY(-50%);right:15px}  .quick-access .bottom-acceess{position:fixed;bottom:25px;right:25px;transition:opacity .5s;opacity:.6}"]})};function Vt(o,e){if(o&1){let t=C();ee(0),s(1,"menu",12),u("click",function(){let r=d(t).$implicit,n=p();return f(n.onBookMarkClick(r))}),s(2,"span"),h(3),c(),s(4,"span"),h(5),c(),s(6,"span"),h(7),c()(),te()}if(o&2){let t=e.$implicit,i=p();a(3),S(" ",t.bookName," : "),a(2),S(" ",i.getChapterNumber(t.chapterName)," : "),a(2),S(" ",t.verseId," ")}}var he=class o{constructor(e,t,i,r){this.bookMarkService=e;this.bibleService=t;this.sharedService=i;this.ngZone=r}bookMarkList=[];menuTrigger;ngOnInit(){this.getBookMarks(),window.addEventListener("keydown",this.handleKeyDown.bind(this))}ngOnChanges(e){}openMenu(){this.menuTrigger.toggleMenu()}getBookMarks(){this.bookMarkService.bookMarksListObsCast.subscribe(e=>{let t=this.bookMarkService.getBookMarks();this.bookMarkList=this.bookMarkService.sortBookmarks(t)})}onBookMarkClick(e){this.bookMarkService.setBookMarkClicked(e),this.bibleService.getBook(e.currentBookId,!0)}getChapterNumber(e){return this.sharedService.getIndex(e)}deleteAll(){this.bookMarkService.clearAll(),this.bookMarkList=[]}onControlQ(){}handleKeyDown(e){if(e.ctrlKey)switch(e.key){case"q":e.preventDefault(),this.ngZone.run(()=>{this.openMenu()});break;default:break}}ngOnDestroy(){window.removeEventListener("keydown",this.handleKeyDown.bind(this))}static \u0275fac=function(t){return new(t||o)(b(R),b(O),b(j),b(z))};static \u0275cmp=M({type:o,selectors:[["app-book-mark"]],viewQuery:function(t,i){if(t&1&&y(re,5),t&2){let r;w(r=B())&&(i.menuTrigger=r.first)}},features:[D],decls:17,vars:2,consts:[["menuTrigger",""],["aboveMenu","matMenu"],[1,"bottom-acceess"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"material-symbols-outlined"],["yPosition","above"],[1,"d-flex","p-3","border-bottom","book-mark-title","justify-content-between","align-items-center"],[1,"book-mark-title"],[1,"m-0"],[1,"text-right"],["mat-icon-button","","color","warning",1,"delete-btn",3,"click"],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(t,i){if(t&1){let r=C();s(0,"section")(1,"div",2)(2,"button",3,0)(4,"span",4),h(5," bookmarks "),c()(),s(6,"mat-menu",5,1)(8,"div",6)(9,"div",7)(10,"h3",8),h(11,"Recently Viewed"),c()(),s(12,"div",9)(13,"button",10),u("click",function(){return d(r),f(i.deleteAll())}),s(14,"span",4),h(15," delete "),c()()()(),k(16,Vt,8,3,"ng-container",11),c()()()}if(t&2){let r=$(7);a(2),l("matMenuTriggerFor",r),a(14),l("ngForOf",i.bookMarkList)}},dependencies:[V,I,nt,ot,re],styles:["button{background-color:transparent}  button .material-symbols-outlined{color:#bcbcbc;font-weight:600}  .mat-mdc-menu-panel{min-width:260px!important;max-width:360px!important;height:auto;min-height:280px;max-height:300px;padding-bottom:20px}  .mat-mdc-menu-content{padding:0!important}  .book-mark-title{background:#1c222e;color:#fff}  .delete-btn{color:#cc9a9a}"]})};var Nt=["verseContainer"];function Dt(o,e){o&1&&(s(0,"div",3),Q(1,"mat-progress-spinner",4),c())}function Lt(o,e){if(o&1&&(s(0,"div",23)(1,"h2",24),h(2),c()()),o&2){let t=p(2);a(2),Ie(" ",t.currentBook.name,": ",t.currentChapterIndex," ")}}function zt(o,e){if(o&1&&(s(0,"h2",25)(1,"span"),h(2),c()()),o&2){let t=p(2);a(2),S("\u0C05\u0C27\u0C4D\u0C2F\u0C3E\u0C2F\u0C02: - ",t.currentChapterIndex,"")}}function Qt(o,e){if(o&1){let t=C();ee(0),s(1,"p",28,0)(3,"span",29),h(4),c(),s(5,"span",30),u("mouseup",function(r){let n=d(t),m=n.$implicit,v=n.index,g=p(3);return f(g.onMouseUp(r,v,m))})("mousedown",function(r){let n=d(t),m=n.$implicit,v=n.index,g=p(3);return f(g.onMouseUp(r,v,m))}),h(6),c()(),te()}if(o&2){let t=e.$implicit,i=e.index;a(),l("id","verse-"+i),a(3),S(" ",t.id.trim(),". "),a(2),S(" ",t.des," ")}}function Pt(o,e){if(o&1&&(s(0,"section",26),k(1,Qt,7,3,"ng-container",27),c()),o&2){let t=p(2);a(),l("ngForOf",t.currentChapter.verses)}}function Rt(o,e){if(o&1){let t=C();s(0,"section",5),u("scroll",function(r){d(t);let n=p();return f(n.onScroll(r))}),s(1,"div",6)(2,"div",7)(3,"div",8),k(4,Lt,3,2,"div",9),c()(),s(5,"section",10)(6,"div",11)(7,"div",12),Q(8,"app-search-bar",13),c(),s(9,"div",14)(10,"button",15),u("click",function(){d(t);let r=p();return f(r.zoom("+"))}),s(11,"span",16),h(12," zoom_in "),c()(),s(13,"button",15),u("click",function(){d(t);let r=p();return f(r.zoom("-"))}),s(14,"span",16),h(15," zoom_out "),c()(),s(16,"button",15),u("click",function(){d(t);let r=p();return f(r.zoom(""))}),s(17,"span",16),h(18," restart_alt "),c()(),Q(19,"app-book-mark"),c()(),s(20,"app-chapters",17),u("currentChapter",function(r){d(t);let n=p();return f(n.getCurrentChapter(r))}),c()(),s(21,"section",18)(22,"section",19),k(23,zt,3,1,"h2",20),c(),k(24,Pt,2,1,"section",21),c()(),s(25,"app-quick-access",22),u("changeChapter",function(r){d(t);let n=p();return f(n.changeChapter(r))}),c()()}if(o&2){let t=p();a(4),l("ngIf",t.isMobile),a(4),l("currentBook",t.currentBook),a(12),l("currentBook",t.currentBook)("currentChapterIndex",t.currentChapterIndex),a(3),l("ngIf",!t.isMobile),a(),l("ngIf",t.currentChapter&&t.currentChapter.verses.length>0),a(),l("disableNext",t.currentChapterIndex>=t.currentBook.chapters.length)("disablePrev",t.currentChapterIndex-1<=0)}}var de=class o{constructor(e,t,i,r,n,m){this.bibleService=e;this.sharedService=t;this.zoomService=i;this.keyboardShortcutsService=r;this.bookMarkService=n;this.breakpointService=m;this.isLoading=!0,this.bibleService.getBook(tt.BOOK_1)}currentBook;type=et;currentChapterIndex=1;currentChapter;subscriptions=[];isLoading;isMobile=!1;currentVerse=1;searchComponent;verseContainers;ngOnInit(){this.getBibleBooks(),this.getScreen()}getScreen(){this.subscriptions.push(this.breakpointService.isMobile$.subscribe(e=>{this.isMobile=e}))}ngAfterViewInit(){}onScroll(e){let t=e.target.scrollTop,i=document.getElementById("app-header");i&&(t>320?(i.classList.add("sticky"),this.bibleService.setBibleState({showBook:!0,showChapter:!0,showVerses:!0})):(i.classList.remove("sticky"),this.bibleService.setBibleState({showBook:!0,showChapter:!1,showVerses:!1})))}zoom(e){e==="+"?this.zoomService.zoomIn():e==="-"?this.zoomService.zoomOut():this.zoomService.reset()}getBibleBooks(){this.subscriptions.push(this.bibleService.currentBookObsCast.subscribe(e=>{this.isLoading=!1,this.currentBook=e,e.isBookMark||(this.currentChapter=this.currentBook.chapters[0]),this.bibleService.setBibleState({showBook:!0})},()=>this.isLoading=!1),this.bibleService.chapterIndexObsCast.subscribe(e=>{this.currentChapterIndex=e}),this.bibleService.currentVerseIndexObsCast.subscribe(e=>{this.currentVerse=e,this.scrollToVerse(this.currentVerse)}))}changeChapter(e){this.searchComponent.resetInput();let t=this.sharedService.getBookId(this.currentBook.id,e);switch(e){case"NEXT":this.currentChapterIndex>=this.currentBook.chapters.length?this.callToNewBook(e):(this.currentChapter=this.currentBook.chapters[this.currentChapterIndex],this.currentChapterIndex++);break;case"PREV":this.currentChapterIndex>1?(this.currentChapterIndex--,this.currentChapter=this.currentBook.chapters[this.currentChapterIndex-1]):this.callToNewBook(e);break;case"DOWN":this.bibleService.getBook(t),this.resetDefaults();break;case"UP":this.bibleService.getBook(t),this.resetDefaults();break;default:break}this.bibleService.setChapterIndex(this.currentChapterIndex)}callToNewBook(e){this.resetDefaults(),this.isLoading=!0;let t=this.sharedService.getBookId(this.currentBook.id,e);this.bibleService.getBook(t)}resetDefaults(){this.currentChapterIndex=1,this.bibleService.setChapterIndex(1),this.currentVerse=1,this.bibleService.setVerseIndex(1),this.searchComponent.resetInput()}getCurrentChapter(e){this.currentChapter=e,this.bibleService.setBibleState({showBook:!0,showChapter:!1}),this.resetForm()}resetForm(){this.searchComponent.chapter.reset(),this.searchComponent.verse.reset()}onKeydown(e){(e.ctrlKey||e.metaKey)&&(e.key==="+"||e.key==="=")?(e.preventDefault(),this.zoomService.zoomIn()):(e.ctrlKey||e.metaKey)&&e.key==="-"&&(e.preventDefault(),this.zoomService.zoomOut())}scrollToVerse(e){let t=this.verseContainers&&this.verseContainers.find((i,r)=>r===e-1);t&&t.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}onMouseUp(e,t,i){this.bookMarkService.storeBookMarks(i,this.currentChapter,this.currentBook)}ngOnDestroy(){this.bibleService.resetDeafualts(),this.sharedService.destroy(this.subscriptions),window.removeEventListener("keydown",this.onKeydown.bind(this)),this.isMobile=!1}static \u0275fac=function(t){return new(t||o)(b(O),b(j),b(Z),b(me),b(R),b(ie))};static \u0275cmp=M({type:o,selectors:[["app-main"]],viewQuery:function(t,i){if(t&1&&(y(K,5),y(Nt,5)),t&2){let r;w(r=B())&&(i.searchComponent=r.first),w(r=B())&&(i.verseContainers=r)}},hostBindings:function(t,i){t&1&&u("keydown",function(n){return i.onKeydown(n)},!1,xe)},decls:2,vars:2,consts:[["verseContainer",""],["class","center",4,"ngIf"],["class","main-section mb-5 pb-5 bible-header","id","contentBlock",3,"scroll",4,"ngIf"],[1,"center"],["mode","indeterminate","value","50"],["id","contentBlock",1,"main-section","mb-5","pb-5","bible-header",3,"scroll"],[1,"container","pb-5","mb-5"],[1,"title"],[1,"row"],["class","col",4,"ngIf"],[1,"my-5","filter-section"],[1,"d-flex","justify-content-between","mb-3","px-2","filters-wrapper"],[1,"search-section"],[3,"currentBook"],[1,"zoom-features","d-flex","justify-content-end","mb-3","align-items-center"],["mat-icon-button","",3,"click"],[1,"material-symbols-outlined"],[3,"currentChapter","currentBook","currentChapterIndex"],[1,""],[1,"mt-5"],["class","text-center chapter-num",4,"ngIf"],["class","verse-sec section-gap","id","zoom-container",4,"ngIf"],[3,"changeChapter","disableNext","disablePrev"],[1,"col"],[1,"text-center","chapter-book","chapter-name","mobile-only"],[1,"text-center","chapter-num"],["id","zoom-container",1,"verse-sec","section-gap"],[4,"ngFor","ngForOf"],[1,"verses","d-flex",3,"id"],[1,"verse-index"],[1,"verse-val",3,"mouseup","mousedown"]],template:function(t,i){t&1&&k(0,Dt,2,0,"div",1)(1,Rt,26,8,"section",2),t&2&&(l("ngIf",i.isLoading),a(),l("ngIf",!i.isLoading&&i.currentChapter))},dependencies:[V,P,I,Ye,pe,ue,K,he],styles:[".main-section[_ngcontent-%COMP%]{margin-top:82px}.verse-sec[_ngcontent-%COMP%]{font-size:42px}.verse-sec[_ngcontent-%COMP%]   .verses[_ngcontent-%COMP%]{font-size:inherit;font-weight:500;margin:0 0 8px;line-height:1.6;color:#ccc}.verse-sec[_ngcontent-%COMP%]   .verses[_ngcontent-%COMP%]   .verse-val[_ngcontent-%COMP%]::selection, .verse-sec[_ngcontent-%COMP%]   .verses[_ngcontent-%COMP%]   .verse-index[_ngcontent-%COMP%]::selection{background:#fcde70!important;color:#1c222e!important}.verse-sec[_ngcontent-%COMP%]   .verses[_ngcontent-%COMP%]   .verse-val[_ngcontent-%COMP%]{margin-left:8px;display:inline-block}.chapter-num[_ngcontent-%COMP%]{font-size:32px;font-weight:500;color:#dcdcdc}.chapter-name[_ngcontent-%COMP%]{font-size:40px;color:#dcdcdc}.main-section[_ngcontent-%COMP%]{height:95vh;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.zoom-features[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.zoom-features[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#b3b3b3}@media screen and (max-width: 768px){.filter-section[_ngcontent-%COMP%]   .filters-wrapper[_ngcontent-%COMP%]{flex-direction:column}.verse-sec[_ngcontent-%COMP%]{font-size:24px}.search-section[_ngcontent-%COMP%]{flex-basis:auto}}"]})};var jt=[{path:"",pathMatch:"full",redirectTo:"chapter"},{path:"chapter",component:de}],fe=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=J({type:o});static \u0275inj=X({imports:[ke.forChild(jt),ke]})};var Kt=[Je,at,Ge,rt],pt=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=J({type:o});static \u0275inj=X({imports:[Te,fe,st,Re,je,Ke,Kt]})};export{pt as BibleModule};
