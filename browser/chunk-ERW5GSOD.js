import{R as M,S as B,a as y}from"./chunk-FMWM4ZBD.js";import{E as f,Y as h,aa as l,fa as d,k as n,p as I,t as m}from"./chunk-IDJVONTR.js";var T=(t=>(t.OLD="oldTestment",t.NEW="newTesetment",t))(T||{});var v=(r=>(r.PREV="PREV",r.NEXT="NEXT",r.UP="UP",r.DOWN="DOWN",r))(v||{});var u={FULL_BOOKS_API:"/assets/json/bible.json",GENESIS:"/assets/json/bible-books/book1.json",BOOKS_LIST:"booksList.json",BOOK_LIST:"bookList.json",BIBLE_BOOKS:"bibile-books",BOOK_1:"book1"};var b=class s{selectedTextData=[];isBookmarkClickedObs=new n({verseId:"",currentBookId:"",currentChapterId:"",chapterName:"",bookName:""});isBookMarkClickedObsCast=this.isBookmarkClickedObs.asObservable();bookMarksListObs=new n([]);bookMarksListObsCast=this.bookMarksListObs.asObservable();constructor(){}storeBookMarks(e,t,o){let r=window.getSelection();if(!r||r.rangeCount===0)return;let i=r.toString().trim(),a=this.getBookMarks(),c={verseId:e.id,currentChapterId:t.id,currentBookId:o.id,bookName:o.name,chapterName:t.name},D=a.some(p=>p.verseId===c.verseId&&p.currentChapterId===c.currentChapterId&&p.currentBookId===c.currentBookId);a.push(c),!D&&i&&e.des.includes(i)&&(a.push(c),this.selectedTextData=a,this.removeDuplicates(),this.setNewBookMark(this.selectedTextData))}removeDuplicates(){let e=Array.from(new Set(this.selectedTextData.map(t=>JSON.stringify(t)))).map(t=>JSON.parse(t));this.selectedTextData=e,localStorage.setItem("bookmark",JSON.stringify(this.selectedTextData))}getBookMarks(){let e=localStorage.getItem("bookmark");if(e)try{return JSON.parse(e)}catch(t){return console.error("Error parsing stored data:",t),[]}return[]}sortBookmarks(e){return e.sort((t,o)=>{let r=t.currentBookId.localeCompare(o.currentBookId,void 0,{numeric:!0});if(r!==0)return r;let i=t.currentChapterId.localeCompare(o.currentChapterId,void 0,{numeric:!0});return i!==0?i:Number(t.verseId)-Number(o.verseId)})}setBookMarkClicked(e){this.isBookmarkClickedObs.next(e)}setNewBookMark(e){this.bookMarksListObs.next(e)}clearAll(){this.bookMarksListObs.next([]),localStorage.removeItem("bookmark")}static \u0275fac=function(t){return new(t||s)};static \u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})};var k=class s{constructor(){}getBookId(e,t){let o=e.split("book"),r=parseInt(o[1],10);return t==="NEXT"||t==="DOWN"?r<66?r++:r=1:(t==="PREV"||t==="UP")&&(r>1?r--:r=66),`book${r}`}getIndex(e){let t=e.match(/\d+/);return t?parseInt(t[0],10):null}combineBibleBooks(e){return!e||!Array.isArray(e)?(console.error("Invalid bibleBooks input: ",e),[]):e.reduce((t,o)=>o&&Array.isArray(o.books)?t.concat(o.books):t,[])}destroy(e){e&&e.length>0&&e.forEach(t=>t.unsubscribe)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})};var E={production:!1,apiUrl:"https://praveen-gorumuchu.github.io"};var S=class s{constructor(e,t,o){this.http=e;this.bookMarkService=t;this.sharedService=o;this.loadData()}bookList=[];bibleBooksObs=new n([]);bibleBooksObsCast=this.bibleBooksObs.asObservable();currentBookObs=new n({chapters:[],name:"",id:""});currentBookObsCast=this.currentBookObs.asObservable();isShowBook=new n({showBook:!1,showChapter:!1,showVerses:!1});isShowObasCast=this.isShowBook.asObservable();chapterIndexObs=new n(1);chapterIndexObsCast=this.chapterIndexObs.asObservable();currentVerseIndexObs=new n(1);currentVerseIndexObsCast=this.currentVerseIndexObs.asObservable();localStorageKey="bibleKey";temp=!1;get baseUrl(){return`${E.apiUrl}/${u.BIBLE_BOOKS}/`}loadData(){let e=localStorage.getItem(this.localStorageKey);this.temp?this.bibleBooksObs.next(JSON.parse(e)):this.fetchDataFromLocalJSON()}fetchDataFromLocalJSON(){this.http.get(`${this.baseUrl}${u.BOOK_LIST}`).pipe(h(e=>{sessionStorage.setItem(this.localStorageKey,JSON.stringify(e)),this.bibleBooksObs.next(e.list),this.bookList=this.sharedService.combineBibleBooks(e.list)}),f(e=>(console.error("Error fetching data",e),I([])))).subscribe()}getBook(e,t,o,r){return this.http.get(`${this.baseUrl}${e}.json`).pipe(h(i=>{this.currentBookObs.next(i),t&&(i.isBookMark=!0,this.setBookMarkData(i),o&&o>=0&&o<=i.chapters.length&&this.setChapterIndex(o),r&&r>=0&&r<=i.chapters[this.currentVerseIndexObs.getValue()].verses.length&&this.setVerseIndex(r))})).subscribe()}setBookMarkData(e){this.bookMarkService.isBookMarkClickedObsCast.subscribe(t=>{let o=1,r=1,i=e.chapters.find(a=>a.id===t.currentChapterId);if(i){o=this.sharedService.getIndex(i.id)??1;let a=i.verses.find(c=>c.id===t.verseId);a&&(r=Number(a.id))}this.setChapterIndex(o),this.setVerseIndex(r)})}setCurrentBook(e){this.currentBookObs.next(e)}setBibleState(e){this.isShowBook.next(e)}setChapterIndex(e){this.chapterIndexObs.next(e)}setVerseIndex(e){this.currentVerseIndexObs.next(e)}resetDeafualts(){this.isShowBook.next({showBook:!1,showChapter:!1,showVerses:!1}),this.chapterIndexObs.next(1)}destory(){this.bibleBooksObs.unsubscribe(),this.chapterIndexObs.unsubscribe()}static \u0275fac=function(t){return new(t||s)(d(y),d(b),d(k))};static \u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})};var N=class s{constructor(e){this.breakpointObserver=e;this.isMobile$=this.breakpointObserver.observe([B.Handset]).pipe(m(t=>t.matches)),this.isTablet$=this.breakpointObserver.observe([B.Tablet]).pipe(m(t=>t.matches))}isMobile$;isTablet$;static \u0275fac=function(t){return new(t||s)(d(M))};static \u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})};var X={object:"object",number:"number",string:"string",PM:"PM",AM:"AM",NUMBER_REGX:"/d+$/",SLIDE_URL:"https://docs.google.com/presentation/d/1PBud_TEUVDsgT1mPUd3zLb8yniHpth5G2I7oUU81QGI/present?slide:id.g3009a3f8083_0_54",title:"Salvation is here! Join our vibrant community today.!",required:"required",email:"email",INVALID_PATTERN:"Invalid Pattern",MIN_LENGTH:"Min characters should be greater than",MAX_LENGTH:"Max characters should not be exceeded",maxlength:"maxlength",minlength:"minlength",pattern:"pattern",REUIRED:"Required",DATE_PICKER_PARSE:"matDatepickerParse",MIN_DATE_PCIKER:"matDatepickerMin",MAX_DATE_PCIKER:"matDatepickerMax",INVALID_FORMAT:"Invalid Format",MIN_DATE_ERROR:"Date Should not less than",MAX_DATE_ERROR:"Date Should not greater than",ALLOWED:"Allowed only",MOMENT_DDMMMYYY:"DD-MM-YYYY",DDMMYYY_FORMAT:"dd/MM/yyyy",TRANS:"transliteration",LOGIN_TITLE:"Login to Discover",LOGIN_DES:"May your heart be filled with peace and your spirit be renewed as you connect with us",INVALID_EMAIL:"Invalid email"};var g=class{static ZERO=0;static ONE=1;static TWO=2;static THREE=3;static FOUR=4;static FIVE=5;static SIX=6;static SEVEN=7;static EIGHT=8;static NINE=9;static TEN=10;static TWELVE=12;static FIFTEEN=15;static THIRTY=30;static FIFTY=50;static SIXTY=60;static HUNDERED=100;static HUNDERED_TWENTY=120;static TWO_HUNDERED=200;static FOUR_HUNDERED=400;static ONE_THOUSAND=1e3;static THOUSAND=1e3;static TWO_THOUSAND=2e3;static THREE_THOUSAND=3e3;static FOUR_THOUSAND=4e3;static FIVE_THOUSAND=5e3;static TWO_FIFTY_FIVE=255;static ONE_KB=1024;static THOUSAND_NINE_HUNDRED_NINTY=1990;static FOURTY=40;static FOUR_HUNDERED_ONE=401};export{X as a,g as b,T as c,v as d,u as e,b as f,k as g,S as h,N as i};
