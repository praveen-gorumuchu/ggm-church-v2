"use strict";(self.webpackChunkggm_church=self.webpackChunkggm_church||[]).push([[665],{9046:(ot,F,i)=>{i.r(F),i.d(F,{DashboardModule:()=>st});var l=i(177),p=i(8498),t=i(3953),g=i(8834),h=i(9213),y=i(882),k=i(5911),R=i(8650),D=i(9115),j=i(6600);const N=s=>({active:s});function w(s,u){if(1&s){const n=t.RV6();t.j41(0,"li",4)(1,"menu",5),t.bIt("click",function(a){const r=t.eBV(n).$implicit,d=t.XpG();return t.Njj(d.menuClick(r,a))}),t.j41(2,"mat-icon",6),t.EFF(3),t.k0s(),t.j41(4,"span",4),t.EFF(5),t.k0s()()()}if(2&s){const n=u.$implicit,e=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(3,N,e.isMenuActive(n))),t.R7$(2),t.SpI(" ",n.icon," "),t.R7$(2),t.SpI(" ",n.title," ")}}let G=(()=>{class s{router;menuList=R.C;isActive;constructor(n){this.router=n}ngOnInit(){this.isActive=this.menuList[0]}ngOnChanges(n){}menuClick(n,e){this.isActive=n,this.router.navigate([n.url])}isMenuActive(n){return this.isActive?.name===n?.name}ngOnDestroy(){}static \u0275fac=function(e){return new(e||s)(t.rXU(p.Ix))};static \u0275cmp=t.VBU({type:s,selectors:[["app-dash-side-nav"]],features:[t.OA$],decls:4,vars:1,consts:[[1,"dashboard-side-nav-section","mt-4"],[1,"left-side-nav"],[1,"m-0","p-0"],["class","",4,"ngFor","ngForOf"],[1,""],["mat-menu-item","","matRipple","","matRippleColor","secondary",1,"menu-item",3,"click","ngClass"],[1,"mr-1"]],template:function(e,a){1&e&&(t.j41(0,"section",0)(1,"div",1)(2,"ul",2),t.DNE(3,w,6,5,"li",3),t.k0s()()()),2&e&&(t.R7$(3),t.Y8G("ngForOf",a.menuList))},dependencies:[l.YU,l.Sq,h.An,D.fb,j.r6],styles:[".dashboard-side-nav-section .left-side-nav ul{list-style:none}  .dashboard-side-nav-section .left-side-nav ul li .menu-item{margin:6px 0;padding:12px 18px;font-size:14px;cursor:pointer;color:#777}  .dashboard-side-nav-section .left-side-nav ul li .menu-item mat-icon{vertical-align:middle;font-size:20px}  .dashboard-side-nav-section .left-side-nav ul li .menu-item.active{background:#d7e3ff;color:#1c222e;border-radius:0 10px 10px 0}"]})}return s})();var f=i(1367);let A=(()=>{class s{loginService;userInfo;constructor(n){this.loginService=n}ngOnInit(){this.getUserData()}getUserData(){this.loginService.loginUser&&(this.userInfo=this.loginService.loginUser)}ngOnChanges(n){}ngOnDestroy(){}static \u0275fac=function(e){return new(e||s)(t.rXU(f.H))};static \u0275cmp=t.VBU({type:s,selectors:[["app-dash-header"]],features:[t.OA$],decls:13,vars:3,consts:[[1,"toolbar-section"],[1,"d-flex","align-items-center","justify-content-between"],[1,"flex-grow-1"],[1,"ml-auto"],[1,"nav-list"],[1,"nav-item","d-flex","align-items-center"],["mat-icon-button","",1,""],[1,"mat-18"],[1,"mat-body-1"]],template:function(e,a){1&e&&(t.j41(0,"section",0)(1,"div",1),t.nrm(2,"div",2),t.j41(3,"div",3)(4,"nav")(5,"ul",4)(6,"li",5)(7,"button",6)(8,"mat-icon",7),t.EFF(9,"account_circle"),t.k0s()(),t.j41(10,"span",8),t.EFF(11),t.nI1(12,"titlecase"),t.k0s()()()()()()()),2&e&&(t.R7$(11),t.SpI(" ",t.bMT(12,1,a.userInfo.name)," "))},dependencies:[g.iY,h.An,l.PV],styles:[".toolbar-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:0 15px}.toolbar-section[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .mat-body-1[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#565656}"]})}return s})();const O=(s,u)=>({"drawer-opened":s,"drawer-closed":u});let x=(()=>{class s{router;sidenavOpened=!0;constructor(n){this.router=n}toggleSidenav(){this.sidenavOpened=!this.sidenavOpened}onLogoClick(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||s)(t.rXU(p.Ix))};static \u0275cmp=t.VBU({type:s,selectors:[["app-dashboard"]],decls:19,vars:5,consts:[["drawer",""],["autosize","",1,"dashboard-container"],["mode","side",1,"dashboard-sidenav",3,"openedChange","opened"],[1,"logo-section"],[1,"mat-app-background"],[3,"click"],[1,"dashboard-tool-bar","border-bottom",3,"ngClass"],[1,""],["mat-icon-button","",1,"menu-btn","mr-2",3,"click"],[1,"dashboard-title"],[1,"wt-100"],[1,"dashboard-body"]],template:function(e,a){if(1&e){const r=t.RV6();t.j41(0,"section")(1,"mat-drawer-container",1)(2,"mat-drawer",2,0),t.mxI("openedChange",function(c){return t.eBV(r),t.DH7(a.sidenavOpened,c)||(a.sidenavOpened=c),t.Njj(c)}),t.j41(4,"div",3)(5,"h1",4)(6,"a",5),t.bIt("click",function(){return t.eBV(r),t.Njj(a.onLogoClick())}),t.EFF(7,"GGM"),t.k0s()()(),t.nrm(8,"app-dash-side-nav"),t.k0s(),t.j41(9,"div",6)(10,"mat-toolbar",7)(11,"button",8),t.bIt("click",function(){t.eBV(r);const c=t.sdS(3);return a.toggleSidenav(),t.Njj(c.toggle())}),t.j41(12,"mat-icon"),t.EFF(13,"menu"),t.k0s()(),t.j41(14,"span",9),t.EFF(15,"Dashboard"),t.k0s(),t.nrm(16,"app-dash-header",10),t.k0s()(),t.j41(17,"section",11),t.nrm(18,"router-outlet"),t.k0s()()()}2&e&&(t.R7$(2),t.R50("opened",a.sidenavOpened),t.R7$(7),t.Y8G("ngClass",t.l_i(2,O,a.sidenavOpened,!a.sidenavOpened)))},dependencies:[l.YU,p.n3,g.iY,h.An,y.qe,y.$C,k.KQ,G,A],styles:[".dashboard-container .dashboard-sidenav{position:fixed;width:260px;height:100%;border-right:1px solid #e8e8e8;border-radius:0;left:0;top:0}  .dashboard-container .dashboard-sidenav .logo-section{padding:20px;cursor:pointer}  .dashboard-container .dashboard-sidenav .logo-section h1{font-size:22px;font-weight:600;margin:0}  .dashboard-container .dashboard-tool-bar{position:fixed;top:0;left:260px;width:calc(100% - 260px);z-index:1000;transition:left .3s ease}  .dashboard-container .dashboard-tool-bar .dashboard-title{font-size:18px;font-weight:500}  .dashboard-container .dashboard-tool-bar.drawer-closed{left:0;width:100%}  .dashboard-container .dashboard-body{margin-top:82px;padding:0 15px}  .spacer{flex:1 1 auto}"]})}return s})(),T=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=t.VBU({type:s,selectors:[["app-create-quiz"]],decls:2,vars:0,template:function(e,a){1&e&&(t.j41(0,"p"),t.EFF(1,"create-quiz works!"),t.k0s())}})}return s})(),U=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=t.VBU({type:s,selectors:[["app-play-quiz"]],decls:2,vars:0,template:function(e,a){1&e&&(t.j41(0,"p"),t.EFF(1,"play-quiz works!"),t.k0s())}})}return s})(),S=(()=>class s{static studentID="studentId"})(),I=(()=>class s{static studentTitle="Students";static REGISTER="Register";static NEW_STUDENT_REGISTER="New Student Register";static ENROLL_NEW_STUDENT="Enroll New Student"})();var o=i(9417),v=i(4756),m=i(6464);let B=(()=>{class s{latestId=0;constructor(){}initializeLatestId(n){if(n.length>0){const e=Math.max(...n.map(a=>parseInt(a.id,10)));this.latestId=e}}generateId(){return this.latestId+=1,this.latestId.toString().padStart(4,"0")}getLatestId(){return this.latestId.toString().padStart(4,"0")}updateLatestId(n){return this.initializeLatestId(n),this.latestId+=1,this.latestId.toString().padStart(4,"0")}resetId(){this.latestId=0}static \u0275fac=function(e){return new(e||s)};static \u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),L=(()=>{class s{constructor(){}getData(n){const e=localStorage.getItem(n);return e?JSON.parse(e):[]}setData(n,e){localStorage.setItem(n,JSON.stringify(e))}checkForDuplicates(n,e){return e.some(a=>a.id===n)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var $=i(5312),z=i(1654),M=i(1562);let V=(()=>{class s{http;constructor(n){this.http=n}getStudentIds(){return this.http.get(`${$.c.baseUrl}/${z.C.getStudent}`)}static \u0275fac=function(e){return new(e||s)(t.KVO(M.Qq))};static \u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var X=i(9272),Y=i(9295),P=i(321),H=i(5416);let Q=(()=>{class s{_snackBar;constructor(n){this._snackBar=n}openMessageBar(n,e){this._snackBar.open(n,"Close",{horizontalPosition:e&&e.horizontalPosition?e?.horizontalPosition:"center",verticalPosition:e&&e.verticalPosition?e.verticalPosition:"top",duration:e&&e.duration?e.duration:v.Y.THREE_THOUSAND,data:e&&e.data?e.data:void 0,panelClass:e&&e.panelClass?e.panelClass:""})}showErorMsgBar(n){this.openMessageBar(n&&""!=n?n:m.g.ERROR_MSG,{panelClass:[m.g.bg_error,m.g.w_100]})}showSuccessMsgBar(n){this.openMessageBar(n,{panelClass:[m.g.bg_success,m.g.w_100]})}dismissMessageBar(){this._snackBar&&this._snackBar.dismiss()}static \u0275fac=function(e){return new(e||s)(t.KVO(H.UG))};static \u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var C=i(5596),J=i(9631),b=i(6467);const K=["idELe"];function W(s,u){if(1&s){const n=t.RV6();t.qex(0)(1,18),t.j41(2,"mat-card",19)(3,"div",20)(4,"span",21),t.EFF(5," Student Name: "),t.k0s(),t.j41(6,"span",22),t.EFF(7),t.k0s(),t.j41(8,"button",23),t.bIt("click",function(){const a=t.eBV(n).index,r=t.XpG(2);return t.Njj(r.removeStudent(a))}),t.j41(9,"mat-icon",8),t.EFF(10,"delete"),t.k0s(),t.EFF(11," Remove "),t.k0s()(),t.j41(12,"mat-card-content",24)(13,"mat-form-field",25)(14,"mat-label"),t.EFF(15,"Id"),t.k0s(),t.nrm(16,"input",26,0),t.k0s(),t.j41(18,"mat-form-field",25)(19,"mat-label"),t.EFF(20,"Name"),t.k0s(),t.nrm(21,"input",27),t.j41(22,"mat-error"),t.EFF(23),t.k0s()(),t.j41(24,"mat-form-field",25)(25,"mat-label"),t.EFF(26,"Class"),t.k0s(),t.nrm(27,"input",28),t.j41(28,"mat-error"),t.EFF(29),t.k0s()(),t.j41(30,"mat-form-field",25)(31,"mat-label"),t.EFF(32,"Phone Number"),t.k0s(),t.nrm(33,"input",29),t.j41(34,"mat-error"),t.EFF(35),t.k0s()(),t.j41(36,"mat-form-field",25)(37,"mat-label"),t.EFF(38,"Age"),t.k0s(),t.nrm(39,"input",30),t.j41(40,"mat-error"),t.EFF(41),t.k0s()()()(),t.bVm()()}if(2&s){let n;const e=u.index,a=t.XpG(2);t.R7$(),t.Y8G("formGroupName",e),t.R7$(6),t.SpI(" ",null==(n=a.studentsFormArray.controls[e].get("name"))?null:n.value," "),t.R7$(),t.Y8G("disabled",0===e),t.R7$(15),t.SpI(" ",a.setErrors(e,"name")," "),t.R7$(6),t.SpI(" ",a.setErrors(e,"class")," "),t.R7$(6),t.SpI(" ",a.setErrors(e,"phoneNum","",10,10)," "),t.R7$(6),t.SpI(" ",a.setErrors(e,"age","",1,4)," ")}}function Z(s,u){if(1&s&&(t.qex(0),t.DNE(1,W,42,7,"ng-container",17),t.bVm()),2&s){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.studentsFormArray.controls)}}let _=(()=>{class s{fb;idGenerationService;localStorageService;studentService;loginService;utilService;encriptionService;formService;messageBarService;titles=I;studentForm;studentList=[];loginUser;idELe;constructor(n,e,a,r,d,c,at,it,rt){this.fb=n,this.idGenerationService=e,this.localStorageService=a,this.studentService=r,this.loginService=d,this.utilService=c,this.encriptionService=at,this.formService=it,this.messageBarService=rt,this.loginUser=this.loginService.loginUser,this.studentForm=this.createForm(),this.initializeData()}ngOnInit(){}ngOnChanges(n){}ngAfterViewInit(){}initializeData(){const n=this.localStorageService.getData(S.studentID);n&&n.length>0?(this.studentList=n,this.idGenerationService.initializeLatestId(this.studentList),this.addNewStudent()):this.studentService.getStudentIds().subscribe(e=>{e&&e.data&&e.data.length>v.Y.ZERO&&(this.studentList=e.data,this.idGenerationService.initializeLatestId(this.studentList),this.addNewStudent())})}onSubmit(){if(!this.studentForm.valid)return void this.messageBarService.showErorMsgBar(m.g.ERROR_MSG);const n=[...this.getNewData(),...this.studentList],e=this.utilService.removeDuplicates(n);this.localStorageService.setData(S.studentID,e),this.messageBarService.showSuccessMsgBar(m.g.CREATE_SUCCESS),this.studentsFormArray.clear(),this.initializeData()}getNewData(){const n=[];return this.studentsFormArray&&this.studentsFormArray.valid&&this.studentsFormArray.controls.length>v.Y.ZERO&&this.studentsFormArray.value.forEach((e,a)=>{const r=this.studentsFormArray.controls[a].get("id");if(e.name){const d={id:r.value,name:e.name,class:e.class,phoneNum:e.phoneNum?this.encriptionService.encrypt(e.phoneNum):"",createdBy:this.loginUser.name,creationDate:new Date,modifiedBy:"",modifiedDate:null,deletedBy:"",deletionDate:null,version:v.Y.ZERO};n.push(d)}}),n}addNewStudent(){const n=this.idGenerationService.generateId();this.studentsFormArray.push(this.createStudentGroup(n))}removeStudent(n){this.studentsFormArray.removeAt(n)}setErrors(n,e,a,r,d){const c=this.studentsFormArray.controls[n].get(e);return this.formService.setErrors(c,a,r,d)}deleteAll(){this.studentsFormArray.reset(),this.studentsFormArray.clear();const n=this.idGenerationService.updateLatestId(this.studentList);this.studentsFormArray.push(this.createStudentGroup(n))}disableSubmit(){let n=!1;return n=this.studentsFormArray.controls.some(e=>{const a=e?.get("name")?.value,r=e.get("id")?.value;return!a||!r||e?.get?.("name")?.invalid||e?.get?.("id")?.invalid}),n}downLoadData(){this.utilService.downloadJsonFile(S.studentID,"data")}get studentsFormArray(){return this.studentForm.get("students")}createForm(){return this.fb.group({students:this.fb.array([])})}createStudentGroup(n){return this.fb.group({name:["",o.k0.required],class:["",o.k0.required],age:["",[o.k0.minLength(1),o.k0.maxLength(4)]],id:[{value:n,disabled:!0},[o.k0.required]],phoneNum:["",[o.k0.minLength(10),o.k0.maxLength(10)]]})}ngOnDestroy(){this.idGenerationService.resetId()}static \u0275fac=function(e){return new(e||s)(t.rXU(o.ok),t.rXU(B),t.rXU(L),t.rXU(V),t.rXU(f.H),t.rXU(X.F),t.rXU(Y.V),t.rXU(P.f),t.rXU(Q))};static \u0275cmp=t.VBU({type:s,selectors:[["app-register-student"]],viewQuery:function(e,a){if(1&e&&t.GBs(K,5),2&e){let r;t.mGM(r=t.lsd())&&(a.idELe=r.first)}},features:[t.OA$],decls:27,vars:5,consts:[["idELe",""],[1,"students-section","py-4","mb-5"],[1,"container"],[1,"d-flex"],[1,"page-title"],[1,"wt-80","mt-5","student-register-form"],[1,"d-flex","justify-content-end"],["mat-button","",1,"ml-2",3,"click","disabled"],[1,"mat-18"],["mat-button","",1,"ml-2",3,"click"],[3,"formGroup"],["formArrayName","students",1,"row"],[4,"ngIf"],[1,"add-new","mt-5"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"subnit","my-5","d-flex","justify-content-end"],["mat-raised-button","","color","primary","type","button",3,"click","disabled"],[4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"d-flex","my-4"],[1,"d-flex","p-4"],[1,""],[1,"ml-1"],["mat-button","","type","button",1,"mat-warn","ml-auto",3,"click","disabled"],[1,"d-flex","flex-wrap","flex-row"],["appearance","outline",1,"px-1","mb-3"],["matInput","","formControlName","id"],["matInput","","formControlName","name","placeholder","Enter student name"],["matInput","","formControlName","class","placeholder","Enter student class"],["matInput","","formControlName","phoneNum"],["matInput","","type","text","formControlName","age","placeholder","Enter student age"]],template:function(e,a){1&e&&(t.j41(0,"section",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h3",4),t.EFF(5),t.k0s()()(),t.j41(6,"section",5)(7,"div",6)(8,"button",7),t.bIt("click",function(){return a.deleteAll()}),t.j41(9,"mat-icon",8),t.EFF(10,"delete_sweep"),t.k0s(),t.EFF(11," Delete All "),t.k0s(),t.j41(12,"button",9),t.bIt("click",function(){return a.downLoadData()}),t.j41(13,"mat-icon",8),t.EFF(14,"download"),t.k0s(),t.EFF(15," Download "),t.k0s()(),t.j41(16,"form",10)(17,"div",11),t.DNE(18,Z,2,1,"ng-container",12),t.k0s(),t.j41(19,"div",13)(20,"button",14),t.bIt("click",function(){return a.addNewStudent()}),t.j41(21,"mat-icon",8),t.EFF(22,"add"),t.k0s(),t.EFF(23," Add New Student "),t.k0s()(),t.j41(24,"div",15)(25,"button",16),t.bIt("click",function(){return a.onSubmit()}),t.EFF(26," Submit "),t.k0s()()()()()()),2&e&&(t.R7$(5),t.SpI(" ",a.titles.ENROLL_NEW_STUDENT," "),t.R7$(3),t.Y8G("disabled",!0),t.R7$(8),t.Y8G("formGroup",a.studentForm),t.R7$(2),t.Y8G("ngIf",a.studentsFormArray&&a.studentsFormArray.controls.length>0),t.R7$(7),t.Y8G("disabled",a.disableSubmit()||a.studentsFormArray.invalid))},dependencies:[l.Sq,l.bT,g.$z,C.RN,C.m2,h.An,J.fg,b.rl,b.nJ,b.TL,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,o.$R,o.v8],styles:["@media screen and (max-width: 768px){.student-register-form[_ngcontent-%COMP%]{width:100%!important}}",".page-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#282828;margin:0}"]})}return s})();var E=function(s){return s.ADMIN="admin",s.USER="user",s}(E||{});const q=[{path:"",component:x,children:[{path:"create-quiz",component:T},{path:"play-quiz",component:U},{path:"register-student",component:_},{path:"students",component:(()=>{class s{router;loginService;titles=I;userRole;userRoleEnum=E;constructor(n,e){this.router=n,this.loginService=e,this.userRole=this.loginService.loginUser.role}onRegister(){this.router.navigate(["dashboard","register-student"])}ngOnDestroy(){}static \u0275fac=function(e){return new(e||s)(t.rXU(p.Ix),t.rXU(f.H))};static \u0275cmp=t.VBU({type:s,selectors:[["app-students"]],decls:14,vars:3,consts:[[1,"students-section","py-4"],[1,"container"],[1,"d-flex"],[1,"page-title"],[1,"ml-auto"],["mat-raised-button","",3,"click","disabled"],[1,""],[1,"row"],[1,"col"]],template:function(e,a){1&e&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),t.EFF(5),t.k0s()(),t.j41(6,"div",4)(7,"button",5),t.bIt("click",function(){return a.onRegister()}),t.j41(8,"mat-icon",6),t.EFF(9,"add"),t.k0s(),t.j41(10,"span"),t.EFF(11),t.k0s()()()(),t.j41(12,"div",7),t.nrm(13,"div",8),t.k0s()()()),2&e&&(t.R7$(5),t.SpI(" ",a.titles.studentTitle," "),t.R7$(2),t.Y8G("disabled",a.userRole!==a.userRoleEnum.ADMIN),t.R7$(4),t.SpI(" ",a.titles.REGISTER," "))},dependencies:[g.$z,h.An],styles:[".page-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#282828;margin:0}"]})}return s})()},{path:"evaluation",component:(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=t.VBU({type:s,selectors:[["app-evaluation"]],decls:2,vars:0,template:function(e,a){1&e&&(t.j41(0,"p"),t.EFF(1,"evaluation works!"),t.k0s())}})}return s})()}]}];let tt=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({imports:[p.iI.forChild(q),p.iI]})}return s})();var et=i(1892),nt=i(3887);let st=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=t.$C({type:s});static \u0275inj=t.G2t({providers:[l.PV],imports:[l.MD,tt,et.G,nt.G,o.YN,o.X1]})}return s})()}}]);