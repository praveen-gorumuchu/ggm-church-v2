"use strict";(self.webpackChunkggm_church=self.webpackChunkggm_church||[]).push([[64],{1064:(xe,x,s)=>{s.r(x),s.d(x,{BibleModule:()=>Ie});var l=s(177),y=s(9192),G=s(5717),u=s(7760),T=s(1654),p=s(9417),b=s(850),v=s(6464),e=s(3953);let N=(()=>{class i{constructor(){}searchBook(t){const n=t.match(/^(.*?)\s*[\s,:;]?\s*(\d+)?\s*[\s,:;]?\s*(\d+)?$/);if(n){const[r,a,h,d]=n,I={bookName:a.trim()};return h&&(I.chapterNumber=parseInt(h,10)),d&&(I.verse=parseInt(d,10)),I}return null}static \u0275fac=function(o){return new(o||i)};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var f=s(9416),V=s(9272),m=s(8834),E=s(9213),O=s(9631),w=s(2102),A=s(6600);const $=["bookInput"],X=["chapterInput"],D=["verseInput"];function z(i,c){if(1&i&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.name," ")}}function Y(i,c){if(1&i&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function L(i,c){if(1&i){const t=e.RV6();e.j41(0,"mat-form-field",19)(1,"input",20,2),e.bIt("blur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onBlurChapter())}),e.k0s(),e.j41(3,"mat-autocomplete",21,3),e.bIt("optionSelected",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onChapterSelected(n.option.value))}),e.DNE(5,Y,2,2,"mat-option",12),e.nI1(6,"async"),e.k0s()()}if(2&i){const t=e.sdS(4),o=e.XpG();e.R7$(),e.Y8G("matAutocomplete",t),e.R7$(4),e.Y8G("ngForOf",e.bMT(6,2,o.filteredChapters))}}function P(i,c){if(1&i){const t=e.RV6();e.j41(0,"mat-form-field",22)(1,"input",23,4),e.bIt("keydown.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onVerseSelected())})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onVerseSelected())})("blur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onBlurVerse())}),e.k0s()()}}let j=(()=>{class i{searchBookService;bibleService;ngZone;utilSharedService;fb;currentBook;searchForm;filteredBooks;filteredChapters;bibleBooks=[];chapterList=[];isBookSelected=!1;isChapterSelected=!1;subs=[];bookInput;chapterInput;verseInput;booksAutoComplete;chaptersAutoComplete;keydownListener;constructor(t,o,n,r,a){this.searchBookService=t,this.bibleService=o,this.ngZone=n,this.utilSharedService=r,this.fb=a,this.searchForm=this.createFormGroup()}ngOnInit(){this.subs.push(this.bibleService.bibleBooksObsCast.subscribe(t=>{this.ngZone.run(()=>{this.bibleBooks=this.combineBibleBooks(t)})})),this.keydownListener=this.onKeydown.bind(this),window.addEventListener("keydown",this.keydownListener),this.getFilteredOptions(),this.getChapterLis()}ngOnChanges(t){}populateDeafult(){this.book.patchValue(this.currentBook),this.chapter.patchValue(1),this.verse.patchValue(1)}getChapterLis(){this.chapterList=this.utilSharedService.convertNumToArray(this.currentBook.chapters.length)}onSearchChange(t){}getFilteredOptions(){this.filteredBooks=this.utilSharedService.filterBooks(this.book,this.bibleBooks,v.g.TRANS),this.filteredChapters=this.utilSharedService.filteredDataComesFirst(this.chapter,this.chapterList)}clear(){this.resetInput()}defaultSelect(){}onBookSelected(t){this.chapter.reset(),this.verse.reset();const o=t.value;o?(this.bibleService.getBook(o.id),this.chapterList=Array.from({length:o.chapterCount},(n,r)=>r+1),this.isBookSelected=!0,this.filteredChapters=this.utilSharedService.filteredDataComesFirst(this.chapter,this.chapterList),setTimeout(()=>{this.chapterInput.nativeElement.focus()})):this.isBookSelected=!1}onChapterSelected(t){parseInt(this.chapter.value)<=this.chapterList.length?(this.isChapterSelected=!0,this.bibleService.setChapterIndex(this.chapter.value),setTimeout(()=>{this.verseInput.nativeElement.focus()})):this.isChapterSelected=!1}onBlurChapter(){parseInt(this.chapter.value)<=this.chapterList.length?(this.chapter.patchValue(this.chapter.value),this.onChapterSelected(this.chapter.value),this.chapter.setErrors(null)):this.chapter.touched&&this.chapter.value&&this.chapter.setErrors({inValid:!0}),this.searchForm.updateValueAndValidity()}onBlurVerse(){const t=parseInt(this.verse.value);t<=this.chapterList[this.chapter.value]?(this.chapter.patchValue(t),this.onVerseSelected(),this.verse.setErrors(null)):this.verse.touched&&this.verse.value&&this.verse.setErrors({inValid:!0}),this.searchForm.updateValueAndValidity()}onVerseSelected(){this.verse&&this.verse.value&&this.bibleService.setVerseIndex(this.verse.value)}displayFn(t){return t&&t.name?t.name:""}combineBibleBooks(t){return t.reduce((o,n)=>o.concat(n.books),[])}onSearchClick(){}prepareBookRequest(){const t=this.searchBookService.searchBook(this.book?.value.id);if(t&&t.bookName){const o=this.bibleBooks.find(n=>n.name.includes(t?.bookName));if(o&&o.id){const n=t&&t.chapterNumber&&Number(t.chapterNumber)||1,r=t&&t.verse&&Number(t.verse)||1;this.bibleService.getBook(o.id,!1,n,r),this.resetInput()}}}get isChapterError(){return this.chapter.hasError("inValid")}get book(){return this.searchForm.get("book")}get chapter(){return this.searchForm.get("chapter")}get verse(){return this.searchForm.get("verse")}resetInput(){this.searchForm&&this.searchForm.reset()}onKeydown(t){const{ctrlKey:o,key:n}=t;o&&"f"===n&&(t.preventDefault(),this.resetInput(),this.bookInput.nativeElement.focus())}createFormGroup(){return this.fb.group({book:["",[p.k0.required]],chapter:[""],verse:[""]})}ngOnDestroy(){window.removeEventListener("keydown",this.keydownListener),this.isBookSelected=!1,this.isChapterSelected=!1,this.bibleBooks=[]}static \u0275fac=function(o){return new(o||i)(e.rXU(N),e.rXU(f.c),e.rXU(e.SKi),e.rXU(V.F),e.rXU(p.ok))};static \u0275cmp=e.VBU({type:i,selectors:[["app-search-bar"]],viewQuery:function(o,n){if(1&o&&(e.GBs($,5),e.GBs(X,5),e.GBs(D,5),e.GBs(b.pN,5),e.GBs(b.pN,5)),2&o){let r;e.mGM(r=e.lsd())&&(n.bookInput=r.first),e.mGM(r=e.lsd())&&(n.chapterInput=r.first),e.mGM(r=e.lsd())&&(n.verseInput=r.first),e.mGM(r=e.lsd())&&(n.booksAutoComplete=r.first),e.mGM(r=e.lsd())&&(n.chaptersAutoComplete=r.first)}},inputs:{currentBook:"currentBook"},features:[e.OA$],decls:18,vars:8,consts:[["bookInput",""],["booksAutoComplete","matAutocomplete"],["chapterInput",""],["chaptersAutoComplete","matAutocomplete"],["verseInput",""],[1,"search-sec","mr-3"],[1,"",3,"formGroup"],[1,"d-flex","search-fields"],["appearance","outline",1,"search-book","primary"],["matInput","","placeholder","Search book","formControlName","book",3,"keydown.enter","matAutocomplete"],["matPrefix",""],["autoActiveFirstOption","",3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","class","search-chapter wt-15 ml-4 primary",4,"ngIf"],["appearance","outline","class","search-verse wt-10 ml-4 primary",4,"ngIf"],[1,"ml-2"],["mat-icon-button","","type","button",1,"clear-icon","ml-3",3,"click"],[1,"material-symbols-outlined"],[3,"value"],["appearance","outline",1,"search-chapter","wt-15","ml-4","primary"],["matInput","","placeholder","","formControlName","chapter",3,"blur","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["appearance","outline",1,"search-verse","wt-10","ml-4","primary"],["matInput","","type","text","formControlName","verse",3,"keydown.enter","change","blur"]],template:function(o,n){if(1&o){const r=e.RV6();e.j41(0,"section",5)(1,"form",6)(2,"div",7)(3,"mat-form-field",8)(4,"input",9,0),e.bIt("keydown.enter",function(){return e.eBV(r),e.Njj(n.onSearchClick())}),e.k0s(),e.j41(6,"mat-icon",10),e.EFF(7,"search"),e.k0s(),e.j41(8,"mat-autocomplete",11,1),e.bIt("optionSelected",function(h){return e.eBV(r),e.Njj(n.onBookSelected(h.option))}),e.DNE(10,z,2,2,"mat-option",12),e.nI1(11,"async"),e.k0s()(),e.DNE(12,L,7,4,"mat-form-field",13)(13,P,3,0,"mat-form-field",14),e.j41(14,"div",15)(15,"button",16),e.bIt("click",function(){return e.eBV(r),e.Njj(n.clear())}),e.j41(16,"span",17),e.EFF(17," close "),e.k0s()()()()()()}if(2&o){const r=e.sdS(9);e.R7$(),e.Y8G("formGroup",n.searchForm),e.R7$(3),e.Y8G("matAutocomplete",r),e.R7$(4),e.Y8G("displayWith",n.displayFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(11,6,n.filteredBooks)),e.R7$(2),e.Y8G("ngIf",(null==n.book?null:n.book.value)&&n.isBookSelected||!0),e.R7$(),e.Y8G("ngIf",(null==n.book?null:n.book.value)&&n.isBookSelected&&(null==n.chapter?null:n.chapter.value)&&n.isChapterSelected||!0)}},dependencies:[l.Sq,l.bT,m.iY,E.An,O.fg,w.rl,w.JW,A.wT,b.$3,b.pN,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,l.Jj],styles:[".search-sec .primary input{color:#b3b3b3!important}  .--mat-form-field-container-height{min-height:40px!important}  .mat-mdc-form-field-infix{padding:10px 0!important}  .mat-mdc-text-field-wrapper{height:46px!important}  .mat-mdc-form-field-icon-prefix>.mat-icon{padding-bottom:10px!important}  mat-icon{cursor:pointer}@media screen and (max-width: 768px){  .search-fields{flex-wrap:wrap;justify-content:flex-start;margin-bottom:18px}  .search-chapter{margin-left:0!important}  .search-book{width:100%}  .search-chapter{width:35%}  .search-verse{width:30%}}"]})}return i})();var k=s(3783),g=s(1537);let M=(()=>{class i{breakpointService;fontSize=42;constructor(t){this.breakpointService=t,this.breakpointService.isMobile$.subscribe(o=>{o&&(this.fontSize=24)})}zoomIn(){this.fontSize+=2,this.updateFontSize()}zoomOut(){this.fontSize>16&&(this.fontSize-=2,this.updateFontSize())}reset(){this.fontSize=42,this.updateFontSize()}updateFontSize(){const t=document.getElementById("zoom-container");t&&t.setAttribute("style",`font-size: ${this.fontSize}px`)}static \u0275fac=function(o){return new(o||i)(e.KVO(g.d))};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),U=(()=>{class i{zoomService;toggleDrawer=new e.bkB;highlightedTexts=[];constructor(t){this.zoomService=t}shortcuts={zoomIn:t=>{t.preventDefault(),this.zoomService.zoomIn()},zoomOut:t=>{t.preventDefault(),this.zoomService.zoomOut()},undo:t=>{},toggleMenu:t=>{t.preventDefault(),this.toggleDrawer.emit()}};onKeydown(t){const{ctrlKey:o,metaKey:n,key:r}=t;!o&&!n||"+"!==r&&"="!==r?(o||n)&&"-"===r?this.shortcuts.zoomOut(t):(o||n)&&"z"===r?this.shortcuts.undo(t):(o||n)&&"m"===r&&this.shortcuts.toggleMenu(t):this.shortcuts.zoomIn(t)}static \u0275fac=function(o){return new(o||i)(e.KVO(M))};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var C=s(958),F=s(9183),S=s(5596);const K=i=>({active:i});function Q(i,c){if(1&i){const t=e.RV6();e.j41(0,"li",3)(1,"button",4),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onChapterClick(n))}),e.j41(2,"span"),e.EFF(3),e.k0s()()()}if(2&i){const t=c.$implicit,o=c.index,n=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(2,K,n.isActive(t))),e.R7$(2),e.SpI(" ",o+1," ")}}let Z=(()=>{class i{bibleService;currentBook;currentChapterIndex=1;currentChapter=new e.bkB;isActiveChapter;constructor(t){this.bibleService=t}ngOnInit(){}ngOnChanges(t){this.isActiveChapter=this.currentBook.chapters[this.currentChapterIndex-1]}isActive(t){return this.isActiveChapter?.id?.toLowerCase()===t.id.toLowerCase()}onChapterClick(t){this.isActiveChapter=t;let o=t.name.match(/\d+$/);this.bibleService.setChapterIndex(o?parseInt(o[0]):1),this.currentChapter.emit(t)}static \u0275fac=function(o){return new(o||i)(e.rXU(f.c))};static \u0275cmp=e.VBU({type:i,selectors:[["app-chapters"]],inputs:{currentBook:"currentBook",currentChapterIndex:"currentChapterIndex"},outputs:{currentChapter:"currentChapter"},features:[e.OA$],decls:5,vars:1,consts:[[1,"chapter-list"],[1,"m-0","p-0"],["class"," book-list",4,"ngFor","ngForOf"],[1,"book-list"],["mat-icon-button","",1,"chapter-num",3,"click","ngClass"]],template:function(o,n){1&o&&(e.j41(0,"section",0)(1,"mat-card")(2,"mat-card-content")(3,"ul",1),e.DNE(4,Q,4,4,"li",2),e.k0s()()()()),2&o&&(e.R7$(4),e.Y8G("ngForOf",n.currentBook.chapters))},dependencies:[l.YU,l.Sq,m.iY,S.RN,S.m2],styles:[".chapter-list mat-card{background:#e1e1e1}  .chapter-list mat-card mat-card-content ul{list-style:none;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-items:stretch;align-content:stretch}  .chapter-list mat-card mat-card-content ul li{padding:0;margin:5px}  .chapter-list mat-card mat-card-content ul li .chapter-num{color:#1c222e;font-size:14px;font-weight:600}  .chapter-list mat-card mat-card-content ul li .chapter-num.active{background-color:#1c222e;color:#e3e3e3}  .chapter-list mat-card mat-card-content ul li .mat-mdc-icon-button .mat-mdc-button-touch-target{width:28px;height:28px}"]})}return i})();var H=s(3726),W=s(6354);function J(i,c){if(1&i){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChangeChapter(n.action.PREV))}),e.j41(2,"span",10),e.EFF(3," arrow_back_ios "),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("disabled",!1))}function q(i,c){if(1&i){const t=e.RV6();e.j41(0,"div",11)(1,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChangeChapter(n.action.NEXT))}),e.j41(2,"span",10),e.EFF(3," arrow_forward_ios "),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("disabled",!1))}function ee(i,c){if(1&i){const t=e.RV6();e.j41(0,"div",12)(1,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChangeChapter(n.action.NEXT))}),e.j41(2,"span",10),e.EFF(3," arrow_forward_ios "),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("disabled",!1))}function te(i,c){if(1&i){const t=e.RV6();e.j41(0,"div",13)(1,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChangeChapter(n.action.NEXT))}),e.j41(2,"span",10),e.EFF(3," arrow_forward_ios "),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("disabled",!1))}function oe(i,c){if(1&i&&(e.j41(0,"section",3),e.DNE(1,J,4,1,"div",4)(2,q,4,1,"div",5)(3,ee,4,1,"div",6)(4,te,4,1,"div",7),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.showLeftArrow),e.R7$(),e.Y8G("ngIf",t.showRightArrow),e.R7$(),e.Y8G("ngIf",t.showDownArrow),e.R7$(),e.Y8G("ngIf",t.showUpArrow)}}function ne(i,c){if(1&i){const t=e.RV6();e.j41(0,"div",14)(1,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.scrollToTop())}),e.j41(2,"span",10),e.EFF(3," keyboard_arrow_up "),e.k0s()()()}}let ie=(()=>{class i{ngZone;bookMarkService;sharedService;bibleService;breakpointService;changeChapter=new e.bkB;disableNext=!1;disablePrev=!1;action=u.R;showLeftArrow;showRightArrow;showUpArrow;showDownArrow;showScrollArrow=!1;scrollSubscription;subs=[];isMobile=!1;constructor(t,o,n,r,a){this.ngZone=t,this.bookMarkService=o,this.sharedService=n,this.bibleService=r,this.breakpointService=a,this.subs.push(this.breakpointService.isMobile$.subscribe(h=>{h&&(this.isMobile=!0)}))}ngOnInit(){this.ngZone.runOutsideAngular(()=>{window.addEventListener("keydown",this.handleKeyDown.bind(this))}),this.showScroll()}showScroll(){const t=document.getElementById("contentBlock");t&&(this.scrollSubscription=(0,H.R)(t,"scroll").pipe((0,W.T)(()=>t.scrollTop)).subscribe(o=>{this.showScrollArrow=o>180}))}scrollToTop(){const t=document.getElementById("contentBlock");t&&t.scrollTo({top:0,behavior:"smooth"})}onMouseMove(t){const{clientX:o}=t,n=window.innerWidth;this.showLeftArrow=o<60,this.showRightArrow=o>n-60}handleKeyDown(t){if(t.ctrlKey&&t.shiftKey)switch(t.preventDefault(),t.stopPropagation(),t.key){case"ArrowRight":this.ngZone.run(()=>{this.onChangeChapter(u.R.NEXT)});break;case"ArrowLeft":this.ngZone.run(()=>{this.onChangeChapter(u.R.PREV)});break;case"ArrowUp":this.ngZone.run(()=>{this.onChangeChapter(u.R.UP)});break;case"ArrowDown":this.ngZone.run(()=>{this.onChangeChapter(u.R.DOWN)})}}onChangeChapter(t){this.changeChapter.emit(t)}ngOnDestroy(){window.removeEventListener("keydown",this.handleKeyDown.bind(this)),this.scrollSubscription.unsubscribe(),this.sharedService.destroy(this.subs),this.isMobile=!1}static \u0275fac=function(o){return new(o||i)(e.rXU(e.SKi),e.rXU(C.s),e.rXU(k.d),e.rXU(f.c),e.rXU(g.d))};static \u0275cmp=e.VBU({type:i,selectors:[["app-quick-access"]],hostBindings:function(o,n){1&o&&e.bIt("mousemove",function(a){return n.onMouseMove(a)},!1,e.EBC)},inputs:{disableNext:"disableNext",disablePrev:"disablePrev"},outputs:{changeChapter:"changeChapter"},decls:4,vars:2,consts:[[1,"quick-access",3,"mousemove"],["class","navigation",4,"ngIf"],["class","bottom-acceess",4,"ngIf"],[1,"navigation"],["class","previous-chapter",4,"ngIf"],["class","next-chapter",4,"ngIf"],["class","next-book",4,"ngIf"],["class","prev-book",4,"ngIf"],[1,"previous-chapter"],["mat-icon-button","",3,"click","disabled"],[1,"material-symbols-outlined"],[1,"next-chapter"],[1,"next-book"],[1,"prev-book"],[1,"bottom-acceess"],["mat-icon-button","",1,"scroll-arrow",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"section",0),e.bIt("mousemove",function(a){return n.onMouseMove(a)}),e.DNE(1,oe,5,4,"section",1),e.j41(2,"section"),e.DNE(3,ne,4,0,"div",2),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",!n.isMobile),e.R7$(2),e.Y8G("ngIf",n.showScrollArrow))},dependencies:[l.bT,m.iY],styles:[".quick-access .previous-chapter button,   .quick-access .next-chapter button,   .quick-access .bottom-acceess button{width:64px;height:64px;padding:0}  .quick-access .previous-chapter .material-symbols-outlined,   .quick-access .next-chapter .material-symbols-outlined,   .quick-access .bottom-acceess .material-symbols-outlined{color:#fff;font-size:32px;padding:0}  .quick-access .previous-chapter{position:fixed;top:50%;transform:translateY(-50%);left:15px}  .quick-access .next-chapter{position:fixed;top:50%;transform:translateY(-50%);right:15px}  .quick-access .bottom-acceess{position:fixed;bottom:25px;right:25px;transition:opacity .5s;opacity:.6}"]})}return i})();var B=s(9115),_=s(6665),R=s(6471);function re(i,c){if(1&i){const t=e.RV6();e.j41(0,"mat-chip-option",13),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.onClick("book",n))}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.EFF(6),e.k0s()()}if(2&i){const t=c.$implicit,o=e.XpG(3);e.R7$(2),e.SpI(" ",t.bookName," : "),e.R7$(2),e.SpI(" ",o.getChapterNumber(t.chapterName)," : "),e.R7$(2),e.SpI(" ",t.verseId," ")}}function se(i,c){if(1&i&&(e.qex(0),e.j41(1,"div",10)(2,"mat-chip-listbox",11),e.DNE(3,re,7,3,"mat-chip-option",12),e.k0s()(),e.bVm()),2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",t.dataSource.list)}}function ce(i,c){if(1&i&&(e.j41(0,"p",14),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.dataSource.noResult," ")}}function ae(i,c){if(1&i){const t=e.RV6();e.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h4",5),e.EFF(4),e.k0s()(),e.j41(5,"div",6)(6,"button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onClick("delete"))}),e.j41(7,"span",8),e.EFF(8," delete "),e.k0s()()()(),e.DNE(9,se,4,1,"ng-container",9)(10,ce,2,1,"ng-template",null,0,e.C5r),e.k0s()}if(2&i){const t=e.sdS(11),o=e.XpG();e.R7$(4),e.SpI(" ",o.dataSource.title," "),e.R7$(5),e.Y8G("ngIf",o.dataSource.list&&(null==o.dataSource.list?null:o.dataSource.list.length)>0)("ngIfElse",t)}}let le=(()=>{class i{dataSource;bottomSheetRef;sharedService;constructor(t,o,n){this.dataSource=t,this.bottomSheetRef=o,this.sharedService=n}getChapterNumber(t){return this.sharedService.getIndex(t)}onClick(t,o){this.bottomSheetRef.dismiss({action:t,data:o})}close(){this.bottomSheetRef.dismiss({action:"close"})}static \u0275fac=function(o){return new(o||i)(e.rXU(_.yj),e.rXU(_.eN),e.rXU(k.d))};static \u0275cmp=e.VBU({type:i,selectors:[["app-bottom-sheet"]],decls:1,vars:1,consts:[["noResult",""],["class","bottom-sheet pb-5",4,"ngIf"],[1,"bottom-sheet","pb-5"],[1,"d-flex","py-3","px-4","border-bottom","justify-content-between","align-items-center"],[1,"title-section"],[1,"m-0","title"],[1,"text-right"],["mat-icon-button","","color","warning",1,"delete-btn",3,"click"],[1,"material-symbols-outlined"],[4,"ngIf","ngIfElse"],[1,"px-4","py-3"],[1,"mat-mdc-chip-set-stacked"],["class","",3,"click",4,"ngFor","ngForOf"],[1,"",3,"click"],[1,"text-center","mt-5"]],template:function(o,n){1&o&&e.DNE(0,ae,12,3,"section",1),2&o&&e.Y8G("ngIf",n.dataSource)},dependencies:[l.Sq,l.bT,m.iY,R.uI,R.gq],styles:[".mat-bottom-sheet-container{padding:0!important}  .mat-bottom-sheet-container .mdc-evolution-chip-set{display:flex;flex-direction:row;justify-content:flex-start}  .mat-bottom-sheet-container .mdc-evolution-chip-set .mat-mdc-chip{width:40%;margin:10px}  .mat-bottom-sheet-container-medium,   .mat-bottom-sheet-container-large{max-width:calc(50vw - 128px)!important}  .mat-bottom-sheet-container{max-height:40vh!important}  .border-bottom{border-color:#e3e3e31f!important}@media screen and (max-width: 768px){  .mat-bottom-sheet-container .mdc-evolution-chip-set{flex-direction:row}  .mat-bottom-sheet-container .mdc-evolution-chip-set .mat-mdc-chip{width:100%!important}}"]})}return i})();function he(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"menu",11),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onBookMarkClick(n))}),e.j41(2,"span"),e.EFF(3),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.bVm()}if(2&i){const t=c.$implicit,o=e.XpG();e.R7$(3),e.SpI(" ",t.bookName," : "),e.R7$(2),e.SpI(" ",o.getChapterNumber(t.chapterName)," : "),e.R7$(2),e.SpI(" ",t.verseId," ")}}let pe=(()=>{class i{bookMarkService;bibleService;sharedService;ngZone;bottomSheet;bookMarkList=[];menuTrigger;constructor(t,o,n,r,a){this.bookMarkService=t,this.bibleService=o,this.sharedService=n,this.ngZone=r,this.bottomSheet=a}ngOnInit(){this.getBookMarks(),window.addEventListener("keydown",this.handleKeyDown.bind(this))}ngOnChanges(t){}openMenu(){this.menuTrigger.toggleMenu()}getBookMarks(){this.bookMarkService.bookMarksListObsCast.subscribe(t=>{const o=this.bookMarkService.getBookMarks();this.bookMarkList=this.bookMarkService.sortBookmarks(o)})}onBookMarkClick(t){this.bookMarkService.setBookMarkClicked(t),this.bibleService.getBook(t.currentBookId,!0)}getChapterNumber(t){return this.sharedService.getIndex(t)}deleteAll(){this.bookMarkService.clearAll(),this.bookMarkList=[]}onControlQ(){}handleKeyDown(t){t.ctrlKey&&"q"===t.key&&(t.preventDefault(),this.ngZone.run(()=>{this.openBottomSheet()}))}openBottomSheet(){this.bottomSheet.open(le,{data:{list:this.bookMarkList,title:v.g.RECENTLY_VIEWD,noResult:v.g.NO_BOOKMARKS_FOUND}}).afterDismissed().subscribe(o=>{console.log(o),o&&("book"===o.action&&this.onBookMarkClick(o.data),"delete"===o.action&&this.deleteAll())})}ngOnDestroy(){window.removeEventListener("keydown",this.handleKeyDown.bind(this))}static \u0275fac=function(o){return new(o||i)(e.rXU(C.s),e.rXU(f.c),e.rXU(k.d),e.rXU(e.SKi),e.rXU(_.VK))};static \u0275cmp=e.VBU({type:i,selectors:[["app-book-mark"]],viewQuery:function(o,n){if(1&o&&e.GBs(B.Cp,5),2&o){let r;e.mGM(r=e.lsd())&&(n.menuTrigger=r.first)}},features:[e.OA$],decls:16,vars:1,consts:[["aboveMenu","matMenu"],[1,"bottom-acceess"],["yPosition","above"],[1,"d-flex","py-2","px-3","border-bottom","book-mark-title","justify-content-between","align-items-center"],[1,"book-mark-title"],[1,"m-0","title"],[1,"text-right"],["mat-icon-button","","color","warning",1,"delete-btn",3,"click"],[1,"material-symbols-outlined"],[4,"ngFor","ngForOf"],["mat-icon-button","",1,"book-mark-btn",3,"click"],["mat-menu-item","",3,"click"]],template:function(o,n){if(1&o){const r=e.RV6();e.j41(0,"section")(1,"div",1)(2,"mat-menu",2,0)(4,"div",3)(5,"div",4)(6,"h4",5),e.EFF(7,"Recently Viewed"),e.k0s()(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return e.eBV(r),e.Njj(n.deleteAll())}),e.j41(10,"span",8),e.EFF(11," delete "),e.k0s()()()(),e.DNE(12,he,8,3,"ng-container",9),e.k0s()(),e.j41(13,"button",10),e.bIt("click",function(){return e.eBV(r),e.Njj(n.openBottomSheet())}),e.j41(14,"span",8),e.EFF(15," bookmarks "),e.k0s()()()}2&o&&(e.R7$(12),e.Y8G("ngForOf",n.bookMarkList))},dependencies:[l.Sq,m.iY,B.kk,B.fb],styles:[".bottom-acceess button{background-color:transparent}  .bottom-acceess button .material-symbols-outlined{color:#bcbcbc;font-weight:600}  .mat-mdc-menu-panel{min-width:260px!important;max-width:360px!important;height:auto;min-height:280px;max-height:300px;padding-bottom:20px}  .mat-mdc-menu-content{padding:0!important}  .book-mark-title{background:#dcdcdc}  .delete-btn .material-symbols-outlined{color:#cd5c5c}  .mat-mdc-menu-panel{background:#1c222e!important}"]})}return i})();const ue=["verseContainer"];function me(i,c){1&i&&(e.j41(0,"div",3),e.nrm(1,"mat-progress-spinner",4),e.k0s())}function de(i,c){if(1&i&&(e.j41(0,"div",23)(1,"h2",24),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.Lme(" ",t.currentBook.name,": ",t.currentChapterIndex," ")}}function be(i,c){if(1&i&&(e.j41(0,"h2",25)(1,"span"),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.SpI("\u0c05\u0c27\u0c4d\u0c2f\u0c3e\u0c2f\u0c02: - ",t.currentChapterIndex,"")}}function fe(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"p",28,0)(3,"span",29),e.EFF(4),e.k0s(),e.j41(5,"span",30),e.bIt("mouseup",function(n){const r=e.eBV(t),a=r.$implicit,h=r.index,d=e.XpG(3);return e.Njj(d.onMouseUp(n,h,a))})("mousedown",function(n){const r=e.eBV(t),a=r.$implicit,h=r.index,d=e.XpG(3);return e.Njj(d.onMouseUp(n,h,a))}),e.EFF(6),e.k0s()(),e.bVm()}if(2&i){const t=c.$implicit,o=c.index;e.R7$(),e.Y8G("id","verse-"+o),e.R7$(3),e.SpI(" ",t.id.trim(),". "),e.R7$(2),e.SpI(" ",t.des," ")}}function ke(i,c){if(1&i&&(e.j41(0,"section",26),e.DNE(1,fe,7,3,"ng-container",27),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.currentChapter.verses)}}function _e(i,c){if(1&i){const t=e.RV6();e.j41(0,"section",5),e.bIt("scroll",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onScroll(n))}),e.j41(1,"div",6)(2,"div",7)(3,"div",8),e.DNE(4,de,3,2,"div",9),e.k0s()(),e.j41(5,"section",10)(6,"div",11)(7,"div",12),e.nrm(8,"app-search-bar",13),e.k0s(),e.j41(9,"div",14)(10,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zoom("+"))}),e.j41(11,"span",16),e.EFF(12," zoom_in "),e.k0s()(),e.j41(13,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zoom("-"))}),e.j41(14,"span",16),e.EFF(15," zoom_out "),e.k0s()(),e.j41(16,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zoom(""))}),e.j41(17,"span",16),e.EFF(18," restart_alt "),e.k0s()(),e.nrm(19,"app-book-mark"),e.k0s()(),e.j41(20,"app-chapters",17),e.bIt("currentChapter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.getCurrentChapter(n))}),e.k0s()(),e.j41(21,"section",18)(22,"section",19),e.DNE(23,be,3,1,"h2",20),e.k0s(),e.DNE(24,ke,2,1,"section",21),e.k0s()(),e.j41(25,"app-quick-access",22),e.bIt("changeChapter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.changeChapter(n))}),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.isMobile),e.R7$(4),e.Y8G("currentBook",t.currentBook),e.R7$(12),e.Y8G("currentBook",t.currentBook)("currentChapterIndex",t.currentChapterIndex),e.R7$(3),e.Y8G("ngIf",!t.isMobile),e.R7$(),e.Y8G("ngIf",t.currentChapter&&t.currentChapter.verses.length>0),e.R7$(),e.Y8G("disableNext",t.currentChapterIndex>=t.currentBook.chapters.length)("disablePrev",t.currentChapterIndex-1<=0)}}const ve=[{path:"",pathMatch:"full",redirectTo:"chapter"},{path:"chapter",component:(()=>{class i{bibleService;sharedService;zoomService;keyboardShortcutsService;bookMarkService;breakpointService;currentBook;type=G.w;currentChapterIndex=1;currentChapter;subscriptions=[];isLoading;isMobile=!1;currentVerse=1;searchComponent;verseContainers;constructor(t,o,n,r,a,h){this.bibleService=t,this.sharedService=o,this.zoomService=n,this.keyboardShortcutsService=r,this.bookMarkService=a,this.breakpointService=h,this.isLoading=!0,this.bibleService.getBook(T.C.BOOK_1)}ngOnInit(){this.getBibleBooks(),this.getScreen()}getScreen(){this.subscriptions.push(this.breakpointService.isMobile$.subscribe(t=>{this.isMobile=t}))}ngAfterViewInit(){}onScroll(t){const o=t.target.scrollTop,n=document.getElementById("app-header");n&&(o>320?(n.classList.add("sticky"),this.bibleService.setBibleState({showBook:!0,showChapter:!0,showVerses:!0})):(n.classList.remove("sticky"),this.bibleService.setBibleState({showBook:!0,showChapter:!1,showVerses:!1})))}zoom(t){"+"===t?this.zoomService.zoomIn():"-"===t?this.zoomService.zoomOut():this.zoomService.reset()}getBibleBooks(){this.subscriptions.push(this.bibleService.currentBookObsCast.subscribe(t=>{this.isLoading=!1,this.currentBook=t,t.isBookMark||(this.currentChapter=this.currentBook.chapters[0]),this.bibleService.setBibleState({showBook:!0})},()=>this.isLoading=!1),this.bibleService.chapterIndexObsCast.subscribe(t=>{this.currentChapterIndex=t,this.getCurrentChapter(this.currentBook.chapters[this.currentChapterIndex-1])}),this.bibleService.currentVerseIndexObsCast.subscribe(t=>{this.currentVerse=t,this.scrollToVerse(this.currentVerse)}))}changeChapter(t){this.searchComponent.resetInput();const o=this.sharedService.getBookId(this.currentBook.id,t);switch(t){case u.R.NEXT:this.currentChapterIndex>=this.currentBook.chapters.length?this.callToNewBook(t):(this.currentChapter=this.currentBook.chapters[this.currentChapterIndex],this.currentChapterIndex++);break;case u.R.PREV:this.currentChapterIndex>1?(this.currentChapterIndex--,this.currentChapter=this.currentBook.chapters[this.currentChapterIndex-1]):this.callToNewBook(t);break;case u.R.DOWN:case u.R.UP:this.bibleService.getBook(o),this.resetDefaults()}this.bibleService.setChapterIndex(this.currentChapterIndex)}callToNewBook(t){this.resetDefaults(),this.isLoading=!0;const o=this.sharedService.getBookId(this.currentBook.id,t);this.bibleService.getBook(o)}resetDefaults(){this.currentChapterIndex=1,this.bibleService.setChapterIndex(1),this.currentVerse=1,this.bibleService.setVerseIndex(1),this.searchComponent.resetInput()}getCurrentChapter(t){this.currentChapter=t,this.bibleService.setBibleState({showBook:!0,showChapter:!1})}resetForm(){this.searchComponent.chapter.reset(),this.searchComponent.verse.reset()}onKeydown(t){!t.ctrlKey&&!t.metaKey||"+"!==t.key&&"="!==t.key?(t.ctrlKey||t.metaKey)&&"-"===t.key&&(t.preventDefault(),this.zoomService.zoomOut()):(t.preventDefault(),this.zoomService.zoomIn())}scrollToVerse(t){const o=this.verseContainers&&this.verseContainers.find((n,r)=>r===t-1);o&&o.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}onMouseUp(t,o,n){this.bookMarkService.storeBookMarks(n,this.currentChapter,this.currentBook)}ngOnDestroy(){this.bibleService.resetDeafualts(),this.sharedService.destroy(this.subscriptions),window.removeEventListener("keydown",this.onKeydown.bind(this)),this.isMobile=!1}static \u0275fac=function(o){return new(o||i)(e.rXU(f.c),e.rXU(k.d),e.rXU(M),e.rXU(U),e.rXU(C.s),e.rXU(g.d))};static \u0275cmp=e.VBU({type:i,selectors:[["app-main"]],viewQuery:function(o,n){if(1&o&&(e.GBs(j,5),e.GBs(ue,5)),2&o){let r;e.mGM(r=e.lsd())&&(n.searchComponent=r.first),e.mGM(r=e.lsd())&&(n.verseContainers=r)}},hostBindings:function(o,n){1&o&&e.bIt("keydown",function(a){return n.onKeydown(a)},!1,e.tSv)},decls:2,vars:2,consts:[["verseContainer",""],["class","center",4,"ngIf"],["class","main-section mb-5 pb-5 bible-header","id","contentBlock",3,"scroll",4,"ngIf"],[1,"center"],["mode","indeterminate","value","50"],["id","contentBlock",1,"main-section","mb-5","pb-5","bible-header",3,"scroll"],[1,"container","pb-5","my-5"],[1,"title"],[1,"row"],["class","col",4,"ngIf"],[1,"my-5","filter-section"],[1,"d-flex","justify-content-between","mb-3","px-2","filters-wrapper"],[1,"search-section"],[3,"currentBook"],[1,"zoom-features","d-flex","justify-content-end","mb-3","align-items-center"],["mat-icon-button","",3,"click"],[1,"material-symbols-outlined"],[3,"currentChapter","currentBook","currentChapterIndex"],[1,""],[1,"mt-5"],["class","text-center chapter-num",4,"ngIf"],["class","verse-sec section-gap","id","zoom-container",4,"ngIf"],[3,"changeChapter","disableNext","disablePrev"],[1,"col"],[1,"text-center","chapter-book","chapter-name","mobile-only"],[1,"text-center","chapter-num"],["id","zoom-container",1,"verse-sec","section-gap"],[4,"ngFor","ngForOf"],[1,"verses","d-flex",3,"id"],[1,"verse-index"],[1,"verse-val",3,"mouseup","mousedown"]],template:function(o,n){1&o&&e.DNE(0,me,2,0,"div",1)(1,_e,26,8,"section",2),2&o&&(e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading&&n.currentChapter))},dependencies:[l.Sq,l.bT,m.iY,F.LG,Z,ie,j,pe],styles:[".main-section[_ngcontent-%COMP%]{margin-top:62px}.verse-sec[_ngcontent-%COMP%]{font-size:42px}.verse-sec[_ngcontent-%COMP%]   .verses[_ngcontent-%COMP%]{font-size:inherit;font-weight:500;margin:0 0 8px;line-height:1.6;color:#ccc}.verse-sec[_ngcontent-%COMP%]   .verses[_ngcontent-%COMP%]   .verse-val[_ngcontent-%COMP%]::selection, .verse-sec[_ngcontent-%COMP%]   .verses[_ngcontent-%COMP%]   .verse-index[_ngcontent-%COMP%]::selection{background:#fcde70!important;color:#1c222e!important}.verse-sec[_ngcontent-%COMP%]   .verses[_ngcontent-%COMP%]   .verse-val[_ngcontent-%COMP%]{margin-left:8px;display:inline-block}.chapter-num[_ngcontent-%COMP%]{font-size:32px;font-weight:500;color:#dcdcdc}.chapter-name[_ngcontent-%COMP%]{font-size:40px;color:#dcdcdc}.main-section[_ngcontent-%COMP%]{height:100vh;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.zoom-features[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.zoom-features[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#b3b3b3}@media screen and (max-width: 768px){.filter-section[_ngcontent-%COMP%]   .filters-wrapper[_ngcontent-%COMP%]{flex-direction:column}.verse-sec[_ngcontent-%COMP%]{font-size:24px}.chapter-name[_ngcontent-%COMP%]{font-size:20px}.search-section[_ngcontent-%COMP%]{flex-basis:auto}.zoom-features[_ngcontent-%COMP%]{justify-content:flex-start!important}}"]})}return i})()}];let ge=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[y.iI.forChild(ve),y.iI]})}return i})();var Ce=s(3887),Se=s(9888);const Be=[F.D6,_.vF,S.Hu,b.jL];let Ie=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[l.MD,ge,Ce.G,p.YN,p.X1,Se.Pd,Be]})}return i})()}}]);