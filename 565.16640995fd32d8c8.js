"use strict";(self.webpackChunkggm_church=self.webpackChunkggm_church||[]).push([[565],{6565:(tt,v,i)=>{i.r(v),i.d(v,{DashboardModule:()=>_});var d=i(177),u=i(8498),t=i(3953),h=i(8834),p=i(9213),b=i(882),k=i(5911),D=i(8650),E=i(9115),j=i(6600);const R=e=>({active:e});function N(e,c){if(1&e){const s=t.RV6();t.j41(0,"li",4)(1,"menu",5),t.bIt("click",function(a){const o=t.eBV(s).$implicit,m=t.XpG();return t.Njj(m.menuClick(o,a))}),t.j41(2,"mat-icon",6),t.EFF(3),t.k0s(),t.j41(4,"span",4),t.EFF(5),t.k0s()()()}if(2&e){const s=c.$implicit,n=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(3,R,n.isMenuActive(s))),t.R7$(2),t.SpI(" ",s.icon," "),t.R7$(2),t.SpI(" ",s.title," ")}}let G=(()=>{class e{router;menuList=D.C;isActive;constructor(s){this.router=s}ngOnInit(){this.isActive=this.menuList[0]}ngOnChanges(s){}menuClick(s,n){this.isActive=s,this.router.navigate([s.url])}isMenuActive(s){return this.isActive?.name===s?.name}ngOnDestroy(){}static \u0275fac=function(n){return new(n||e)(t.rXU(u.Ix))};static \u0275cmp=t.VBU({type:e,selectors:[["app-dash-side-nav"]],features:[t.OA$],decls:4,vars:1,consts:[[1,"dashboard-side-nav-section","mt-4"],[1,"left-side-nav"],[1,"m-0","p-0"],["class","",4,"ngFor","ngForOf"],[1,""],["mat-menu-item","","matRipple","","matRippleColor","secondary",1,"menu-item",3,"click","ngClass"],[1,"mr-1"]],template:function(n,a){1&n&&(t.j41(0,"section",0)(1,"div",1)(2,"ul",2),t.DNE(3,N,6,5,"li",3),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("ngForOf",a.menuList))},dependencies:[d.YU,d.Sq,p.An,E.fb,j.r6],styles:[".dashboard-side-nav-section .left-side-nav ul{list-style:none}  .dashboard-side-nav-section .left-side-nav ul li .menu-item{margin:6px 0;padding:12px 18px;font-size:14px;cursor:pointer;color:#777}  .dashboard-side-nav-section .left-side-nav ul li .menu-item mat-icon{vertical-align:middle;font-size:20px}  .dashboard-side-nav-section .left-side-nav ul li .menu-item.active{background:#d7e3ff;color:#1c222e;border-radius:0 10px 10px 0}"]})}return e})();var g=i(1367);let x=(()=>{class e{loginService;userInfo;constructor(s){this.loginService=s}ngOnInit(){this.getUserData()}getUserData(){this.loginService.loginUser&&(this.userInfo=this.loginService.loginUser)}ngOnChanges(s){}ngOnDestroy(){}static \u0275fac=function(n){return new(n||e)(t.rXU(g.H))};static \u0275cmp=t.VBU({type:e,selectors:[["app-dash-header"]],features:[t.OA$],decls:13,vars:3,consts:[[1,"toolbar-section"],[1,"d-flex","align-items-center","justify-content-between"],[1,"flex-grow-1"],[1,"ml-auto"],[1,"nav-list"],[1,"nav-item","d-flex","align-items-center"],["mat-icon-button","",1,""],[1,"mat-18"],[1,"mat-body-1"]],template:function(n,a){1&n&&(t.j41(0,"section",0)(1,"div",1),t.nrm(2,"div",2),t.j41(3,"div",3)(4,"nav")(5,"ul",4)(6,"li",5)(7,"button",6)(8,"mat-icon",7),t.EFF(9,"account_circle"),t.k0s()(),t.j41(10,"span",8),t.EFF(11),t.nI1(12,"titlecase"),t.k0s()()()()()()()),2&n&&(t.R7$(11),t.SpI(" ",t.bMT(12,1,a.userInfo.name)," "))},dependencies:[h.iY,p.An,d.PV],styles:[".toolbar-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:0 15px}.toolbar-section[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .mat-body-1[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#565656}"]})}return e})();const w=(e,c)=>({"drawer-opened":e,"drawer-closed":c});let A=(()=>{class e{router;sidenavOpened=!0;constructor(s){this.router=s}toggleSidenav(){this.sidenavOpened=!this.sidenavOpened}onLogoClick(){this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||e)(t.rXU(u.Ix))};static \u0275cmp=t.VBU({type:e,selectors:[["app-dashboard"]],decls:19,vars:5,consts:[["drawer",""],["autosize","",1,"dashboard-container"],["mode","side",1,"dashboard-sidenav",3,"openedChange","opened"],[1,"logo-section"],[1,"mat-app-background"],[3,"click"],[1,"dashboard-tool-bar","border-bottom",3,"ngClass"],[1,""],["mat-icon-button","",1,"menu-btn","mr-2",3,"click"],[1,"dashboard-title"],[1,"wt-100"],[1,"dashboard-body"]],template:function(n,a){if(1&n){const o=t.RV6();t.j41(0,"section")(1,"mat-drawer-container",1)(2,"mat-drawer",2,0),t.mxI("openedChange",function(l){return t.eBV(o),t.DH7(a.sidenavOpened,l)||(a.sidenavOpened=l),t.Njj(l)}),t.j41(4,"div",3)(5,"h1",4)(6,"a",5),t.bIt("click",function(){return t.eBV(o),t.Njj(a.onLogoClick())}),t.EFF(7,"GGM"),t.k0s()()(),t.nrm(8,"app-dash-side-nav"),t.k0s(),t.j41(9,"div",6)(10,"mat-toolbar",7)(11,"button",8),t.bIt("click",function(){t.eBV(o);const l=t.sdS(3);return a.toggleSidenav(),t.Njj(l.toggle())}),t.j41(12,"mat-icon"),t.EFF(13,"menu"),t.k0s()(),t.j41(14,"span",9),t.EFF(15,"Dashboard"),t.k0s(),t.nrm(16,"app-dash-header",10),t.k0s()(),t.j41(17,"section",11),t.nrm(18,"router-outlet"),t.k0s()()()}2&n&&(t.R7$(2),t.R50("opened",a.sidenavOpened),t.R7$(7),t.Y8G("ngClass",t.l_i(2,w,a.sidenavOpened,!a.sidenavOpened)))},dependencies:[d.YU,u.n3,h.iY,p.An,b.qe,b.$C,k.KQ,G,x],styles:[".dashboard-container .dashboard-sidenav{position:fixed;width:260px;height:100%;border-right:1px solid #e8e8e8;border-radius:0;left:0;top:0}  .dashboard-container .dashboard-sidenav .logo-section{padding:20px;cursor:pointer}  .dashboard-container .dashboard-sidenav .logo-section h1{font-size:22px;font-weight:600;margin:0}  .dashboard-container .dashboard-tool-bar{position:fixed;top:0;left:260px;width:calc(100% - 260px);z-index:1000;transition:left .3s ease}  .dashboard-container .dashboard-tool-bar .dashboard-title{font-size:18px;font-weight:500}  .dashboard-container .dashboard-tool-bar.drawer-closed{left:0;width:100%}  .dashboard-container .dashboard-body{margin-top:82px;padding:0 15px}  .spacer{flex:1 1 auto}"]})}return e})(),O=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-create-quiz"]],decls:2,vars:0,template:function(n,a){1&n&&(t.j41(0,"p"),t.EFF(1,"create-quiz works!"),t.k0s())}})}return e})(),T=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-play-quiz"]],decls:2,vars:0,template:function(n,a){1&n&&(t.j41(0,"p"),t.EFF(1,"play-quiz works!"),t.k0s())}})}return e})(),f=(()=>class e{static studentID="studentId"})(),F=(()=>class e{static studentTitle="Students";static REGISTER="Register";static NEW_STUDENT_REGISTER="New Student Register";static ENROLL_NEW_STUDENT="Enroll New Student"})();var r=i(9417),S=i(4756);let U=(()=>{class e{latestId=0;constructor(){}initializeLatestId(s){if(s.length>0){const n=Math.max(...s.map(a=>parseInt(a.id,10)));this.latestId=n}}generateId(){return this.latestId+=1,this.latestId.toString().padStart(4,"0")}getLatestId(){return this.latestId.toString().padStart(4,"0")}updateLatestId(s){return this.initializeLatestId(s),this.latestId+=1,this.latestId.toString().padStart(4,"0")}resetId(){this.latestId=0}static \u0275fac=function(n){return new(n||e)};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$=(()=>{class e{constructor(){}getData(s){const n=localStorage.getItem(s);return n?JSON.parse(n):[]}setData(s,n){localStorage.setItem(s,JSON.stringify(n))}checkForDuplicates(s,n){return n.some(a=>a.id===s)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z=i(5312),L=i(1654),V=i(1562);let M=(()=>{class e{http;constructor(s){this.http=s}getStudentIds(){return this.http.get(`${z.c.baseUrl}/${L.C.getStudent}`)}static \u0275fac=function(n){return new(n||e)(t.KVO(V.Qq))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var X=i(9272),Y=i(9295),y=i(5596),B=i(9631),I=i(6467);function P(e,c){if(1&e){const s=t.RV6();t.qex(0)(1,17),t.j41(2,"mat-card",18)(3,"div",19)(4,"span",20),t.EFF(5," Student Name: "),t.k0s(),t.j41(6,"span",21),t.EFF(7),t.k0s(),t.j41(8,"button",22),t.bIt("click",function(){const a=t.eBV(s).index,o=t.XpG(2);return t.Njj(o.removeStudent(a))}),t.j41(9,"mat-icon",7),t.EFF(10,"delete"),t.k0s(),t.EFF(11," Remove "),t.k0s()(),t.j41(12,"mat-card-content",23)(13,"mat-form-field",24)(14,"mat-label"),t.EFF(15,"Id"),t.k0s(),t.nrm(16,"input",25),t.k0s(),t.j41(17,"mat-form-field",24)(18,"mat-label"),t.EFF(19,"Name"),t.k0s(),t.nrm(20,"input",26),t.k0s(),t.j41(21,"mat-form-field",24)(22,"mat-label"),t.EFF(23,"Class"),t.k0s(),t.nrm(24,"input",27),t.k0s(),t.j41(25,"mat-form-field",24)(26,"mat-label"),t.EFF(27,"Phone Number"),t.k0s(),t.nrm(28,"input",28),t.k0s(),t.j41(29,"mat-form-field",24)(30,"mat-label"),t.EFF(31,"Age"),t.k0s(),t.nrm(32,"input",29),t.k0s()()(),t.bVm()()}if(2&e){let s;const n=c.index,a=t.XpG(2);t.R7$(),t.Y8G("formGroupName",n),t.R7$(6),t.SpI(" ",null==(s=a.studentsFormArray.controls[n].get("name"))?null:s.value," "),t.R7$(),t.Y8G("disabled",0===n)}}function H(e,c){if(1&e&&(t.qex(0),t.DNE(1,P,33,3,"ng-container",16),t.bVm()),2&e){const s=t.XpG();t.R7$(),t.Y8G("ngForOf",s.studentsFormArray.controls)}}let Q=(()=>{class e{fb;idGenerationService;localStorageService;studentService;loginService;utilService;encriptionService;titles=F;studentForm;studentList=[];loginUser;constructor(s,n,a,o,m,l,q){this.fb=s,this.idGenerationService=n,this.localStorageService=a,this.studentService=o,this.loginService=m,this.utilService=l,this.encriptionService=q,this.loginUser=this.loginService.loginUser,this.studentForm=this.createForm(),this.initializeData()}ngOnInit(){}ngOnChanges(s){}initializeData(){const s=this.localStorageService.getData(f.studentID);s&&s.length>0?(this.studentList=s,this.idGenerationService.initializeLatestId(this.studentList),this.addNewStudent()):this.studentService.getStudentIds().subscribe(n=>{n&&n.data&&n.data.length>S.Y.ZERO&&(this.studentList=n.data,this.idGenerationService.initializeLatestId(this.studentList),this.addNewStudent())})}onSubmit(){if(!this.studentForm.valid)return;const s=[...this.getNewData(),...this.studentList],n=this.utilService.removeDuplicates(s);this.localStorageService.setData(f.studentID,n),this.studentForm.reset()}getNewData(){const s=[];return this.studentsFormArray&&this.studentsFormArray.valid&&this.studentsFormArray.controls.length>S.Y.ZERO&&this.studentsFormArray.value.forEach(n=>{if(n.id&&n.name){const a={id:n.id,name:n.name,class:n.class,phoneNum:this.encriptionService.encrypt(String(n.phoneNum)||""),createdBy:this.loginUser.name,creationDate:new Date};s.push(a)}}),s}addNewStudent(){const s=this.idGenerationService.generateId();this.studentsFormArray.push(this.createStudentGroup(s))}removeStudent(s){this.studentsFormArray.removeAt(s)}setErrorsForName(){}deleteAll(){this.studentsFormArray.reset(),this.studentsFormArray.clear();const s=this.idGenerationService.updateLatestId(this.studentList);this.studentsFormArray.push(this.createStudentGroup(s))}disableSubmit(){let s=!1;return s=this.studentsFormArray.controls.some(n=>{const a=n?.get("name")?.value,o=n.get("id")?.value;return!a||!o||n?.get?.("name")?.invalid||n?.get?.("id")?.invalid}),s}downLoadData(){this.utilService.downloadJsonFile(f.studentID,"data")}get studentsFormArray(){return this.studentForm.get("students")}createForm(){return this.fb.group({students:this.fb.array([])})}createStudentGroup(s){return this.fb.group({name:["",r.k0.required],class:["",r.k0.required],age:["",[]],id:[s,[r.k0.required]],phoneNum:["",[]]})}ngOnDestroy(){this.idGenerationService.resetId()}static \u0275fac=function(n){return new(n||e)(t.rXU(r.ok),t.rXU(U),t.rXU($),t.rXU(M),t.rXU(g.H),t.rXU(X.F),t.rXU(Y.V))};static \u0275cmp=t.VBU({type:e,selectors:[["app-register-student"]],features:[t.OA$],decls:27,vars:5,consts:[[1,"students-section","py-4","mb-5"],[1,"container"],[1,"d-flex"],[1,"page-title"],[1,"wt-80","mt-5"],[1,"d-flex","justify-content-end"],["mat-button","",1,"ml-2",3,"click","disabled"],[1,"mat-18"],["mat-button","",1,"ml-2",3,"click"],[3,"formGroup"],["formArrayName","students",1,"row"],[4,"ngIf"],[1,"add-new","mt-5"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"subnit","my-5","d-flex","justify-content-end"],["mat-raised-button","","color","primary","type","button",3,"click","disabled"],[4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"d-flex","my-4"],[1,"d-flex","p-4"],[1,""],[1,"ml-1"],["mat-button","","type","button",1,"mat-warn","ml-auto",3,"click","disabled"],[1,"d-flex","flex-wrap","flex-row"],["appearance","outline",1,"px-1","mb-3"],["matInput","","formControlName","id"],["matInput","","formControlName","name","placeholder","Enter student name"],["matInput","","formControlName","class","placeholder","Enter student class"],["matInput","","formControlName","phoneNum"],["matInput","","type","text","formControlName","age","placeholder","Enter student age"]],template:function(n,a){1&n&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),t.EFF(5),t.k0s()()(),t.j41(6,"section",4)(7,"div",5)(8,"button",6),t.bIt("click",function(){return a.deleteAll()}),t.j41(9,"mat-icon",7),t.EFF(10,"delete_sweep"),t.k0s(),t.EFF(11," Delete All "),t.k0s(),t.j41(12,"button",8),t.bIt("click",function(){return a.downLoadData()}),t.j41(13,"mat-icon",7),t.EFF(14,"download"),t.k0s(),t.EFF(15," Download "),t.k0s()(),t.j41(16,"form",9)(17,"div",10),t.DNE(18,H,2,1,"ng-container",11),t.k0s(),t.j41(19,"div",12)(20,"button",13),t.bIt("click",function(){return a.addNewStudent()}),t.j41(21,"mat-icon",7),t.EFF(22,"add"),t.k0s(),t.EFF(23," Add New Student "),t.k0s()(),t.j41(24,"div",14)(25,"button",15),t.bIt("click",function(){return a.onSubmit()}),t.EFF(26," Submit "),t.k0s()()()()()()),2&n&&(t.R7$(5),t.SpI(" ",a.titles.ENROLL_NEW_STUDENT," "),t.R7$(3),t.Y8G("disabled",!0),t.R7$(8),t.Y8G("formGroup",a.studentForm),t.R7$(2),t.Y8G("ngIf",a.studentsFormArray&&a.studentsFormArray.controls.length>0),t.R7$(7),t.Y8G("disabled",a.disableSubmit()||a.studentsFormArray.invalid))},dependencies:[d.Sq,d.bT,h.$z,y.RN,y.m2,p.An,B.fg,I.rl,I.nJ,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8],styles:[".page-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#282828;margin:0}"]})}return e})();var C=function(e){return e.ADMIN="admin",e.USER="user",e}(C||{});const J=[{path:"",component:A,children:[{path:"create-quiz",component:O},{path:"play-quiz",component:T},{path:"register-student",component:Q},{path:"students",component:(()=>{class e{router;loginService;titles=F;userRole;userRoleEnum=C;constructor(s,n){this.router=s,this.loginService=n,this.userRole=this.loginService.loginUser.role}onRegister(){this.router.navigate(["dashboard","register-student"])}ngOnDestroy(){}static \u0275fac=function(n){return new(n||e)(t.rXU(u.Ix),t.rXU(g.H))};static \u0275cmp=t.VBU({type:e,selectors:[["app-students"]],decls:14,vars:3,consts:[[1,"students-section","py-4"],[1,"container"],[1,"d-flex"],[1,"page-title"],[1,"ml-auto"],["mat-raised-button","",3,"click","disabled"],[1,""],[1,"row"],[1,"col"]],template:function(n,a){1&n&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),t.EFF(5),t.k0s()(),t.j41(6,"div",4)(7,"button",5),t.bIt("click",function(){return a.onRegister()}),t.j41(8,"mat-icon",6),t.EFF(9,"add"),t.k0s(),t.j41(10,"span"),t.EFF(11),t.k0s()()()(),t.j41(12,"div",7),t.nrm(13,"div",8),t.k0s()()()),2&n&&(t.R7$(5),t.SpI(" ",a.titles.studentTitle," "),t.R7$(2),t.Y8G("disabled",a.userRole!==a.userRoleEnum.ADMIN),t.R7$(4),t.SpI(" ",a.titles.REGISTER," "))},dependencies:[h.$z,p.An],styles:[".page-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#282828;margin:0}"]})}return e})()},{path:"evaluation",component:(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-evaluation"]],decls:2,vars:0,template:function(n,a){1&n&&(t.j41(0,"p"),t.EFF(1,"evaluation works!"),t.k0s())}})}return e})()}]}];let W=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[u.iI.forChild(J),u.iI]})}return e})();var K=i(9972),Z=i(3887);let _=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({providers:[d.PV],imports:[d.MD,W,K.G,Z.G,r.YN,r.X1]})}return e})()}}]);